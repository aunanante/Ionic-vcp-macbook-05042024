{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jclon/chatgptVcp/Ionic-vcp-macbook27mars22024/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/clicked-element.service\";\nimport * as i3 from \"src/app/services/detail.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ionic/angular\";\nfunction ProductDetailsPage_ng_container_7_ion_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\")(1, \"ion-card-header\")(2, \"ion-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ion-card-content\", 7);\n    i0.ɵɵelement(5, \"ion-img\", 8);\n    i0.ɵɵelementStart(6, \"p\", 9);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const detail_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(detail_r4.detailname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", detail_r4.image_detail);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(detail_r4.description);\n  }\n}\nfunction ProductDetailsPage_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductDetailsPage_ng_container_7_ion_card_1_Template, 8, 3, \"ion-card\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.details);\n  }\n}\nfunction ProductDetailsPage_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\")(1, \"ion-card-content\");\n    i0.ɵɵtext(2, \" No details available for this product. \");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ProductDetailsPage {\n  constructor(route, router, clickedElementService, detailService // Inject DetailService  \n  ) {\n    this.route = route;\n    this.router = router;\n    this.clickedElementService = clickedElementService;\n    this.detailService = detailService;\n    this.details = []; // Variable to store product details\n  }\n\n  ngOnInit() {\n    // Subscribe to route params and extract the productId and categoryId\n    this.route.params.subscribe(params => {\n      this.productId = params['id'];\n      this.categoryId = params['categoryId']; // Capture categoryId\n    });\n\n    console.log('this.productId', this.productId);\n    console.log('this.categoryId', this.categoryId);\n    // Retrieve clickedCommerce from ClickedElementService\n    this.clickedElementService.getClickedCommerce().subscribe(clickedCommerce => {\n      this.clickedCommerce = clickedCommerce;\n      console.log('this.clickedCommerce : ', this.clickedCommerce);\n      this.commerceId = clickedCommerce.id;\n      console.log('this.clickedCommerce : ', this.clickedCommerce);\n    });\n    // Fetch details associated with the current product\n    this.fetchDetailsByProductId(this.productId);\n  }\n  goBack() {\n    // Navigate back to CreateCategoryModalPage with categoryId\n    this.router.navigate(['/create-category-modal', this.categoryId, {\n      commerceId: this.commerceId\n    }]);\n  }\n  fetchDetailsByProductId(productId) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        // Call DetailService to fetch details by productId\n        _this.details = yield _this.detailService.getDetailsByProductId(productId);\n        console.log('Product Details:', _this.details);\n      } catch (error) {\n        console.error('Error fetching details:', error);\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function ProductDetailsPage_Factory(t) {\n    return new (t || ProductDetailsPage)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ClickedElementService), i0.ɵɵdirectiveInject(i3.DetailService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductDetailsPage,\n    selectors: [[\"app-product-details\"]],\n    decls: 10,\n    vars: 4,\n    consts: [[3, \"translucent\"], [\"slot\", \"start\"], [\"defaultHref\", \"/create-category-modal\", 3, \"click\"], [3, \"fullscreen\"], [4, \"ngIf\", \"ngIfElse\"], [\"noDetails\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card-content\"], [1, \"card-image\", 3, \"src\"], [1, \"description\"]],\n    template: function ProductDetailsPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1)(3, \"ion-back-button\", 2);\n        i0.ɵɵlistener(\"click\", function ProductDetailsPage_Template_ion_back_button_click_3_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5, \"Product Details\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\", 3);\n        i0.ɵɵtemplate(7, ProductDetailsPage_ng_container_7_Template, 2, 1, \"ng-container\", 4)(8, ProductDetailsPage_ng_template_8_Template, 3, 0, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(9);\n        i0.ɵɵproperty(\"translucent\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.details.length > 0)(\"ngIfElse\", _r2);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.IonButtons, i5.IonCard, i5.IonCardContent, i5.IonCardHeader, i5.IonCardTitle, i5.IonContent, i5.IonHeader, i5.IonImg, i5.IonTitle, i5.IonToolbar, i5.IonBackButton],\n    styles: [\".card-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.card-image[_ngcontent-%COMP%] {\\n  max-width: 100%; \\n\\n  max-height: 200px; \\n\\n  object-fit: cover; \\n\\n}\\n\\n.description[_ngcontent-%COMP%] {\\n  margin-top: 10px; \\n\\n  text-align: center; \\n\\n}\\n\\n\\n\\n.card-image[_ngcontent-%COMP%] {\\n  width: 100%; \\n\\n  height: 200px; \\n\\n  object-fit: contain; \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcHJvZHVjdC1kZXRhaWxzL3Byb2R1Y3QtZGV0YWlscy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVFO0VBQ0UsZUFBQSxFQUFBLGdEQUFBO0VBQ0EsaUJBQUEsRUFBQSx3Q0FBQTtFQUNBLGlCQUFBLEVBQUEsZ0VBQUE7QUFDSjs7QUFFRTtFQUNFLGdCQUFBLEVBQUEseURBQUE7RUFDQSxrQkFBQSxFQUFBLGlDQUFBO0FBQ0o7O0FBRUUsc0RBQUE7QUFDRjtFQUNFLFdBQUEsRUFBQSxzQkFBQTtFQUNBLGFBQUEsRUFBQSx1Q0FBQTtFQUNBLG1CQUFBLEVBQUEsbURBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkLWNvbnRlbnQge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAuY2FyZC1pbWFnZSB7XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7IC8qIEVuc3VyZSBpbWFnZSBkb2VzIG5vdCBleGNlZWQgdGhlIGNhcmQgd2lkdGggKi9cclxuICAgIG1heC1oZWlnaHQ6IDIwMHB4OyAvKiBTZXQgYSBtYXhpbXVtIGhlaWdodCBmb3IgYWxsIGltYWdlcyAqL1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7IC8qIEVuc3VyZSBpbWFnZXMgbWFpbnRhaW4gYXNwZWN0IHJhdGlvIGFuZCBjb3ZlciB0aGUgY29udGFpbmVyICovXHJcbiAgfVxyXG4gIFxyXG4gIC5kZXNjcmlwdGlvbiB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4OyAvKiBBZGQgc29tZSBzcGFjZSBiZXR3ZWVuIHRoZSBpbWFnZSBhbmQgdGhlIGRlc2NyaXB0aW9uICovXHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7IC8qIENlbnRlci1hbGlnbiB0aGUgZGVzY3JpcHRpb24gKi9cclxuICB9XHJcblxyXG4gIC8qIERlZmluZSBDU1MgY2xhc3MgZm9yIGNvbnRyb2xsaW5nIGltYWdlIGRpbWVuc2lvbnMgKi9cclxuLmNhcmQtaW1hZ2Uge1xyXG4gIHdpZHRoOiAxMDAlOyAvKiBTZXQgd2lkdGggdG8gMTAwJSAqL1xyXG4gIGhlaWdodDogMjAwcHg7IC8qIFNldCBhIGZpeGVkIGhlaWdodCBmb3IgY29uc2lzdGVuY3kgKi9cclxuICBvYmplY3QtZml0OiBjb250YWluOyAvKiBNYWludGFpbiBhc3BlY3QgcmF0aW8gYW5kIGZpdCB3aXRoaW4gY29udGFpbmVyICovXHJcbn1cclxuXHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","detail_r4","detailname","ɵɵproperty","image_detail","description","ɵɵelementContainerStart","ɵɵtemplate","ProductDetailsPage_ng_container_7_ion_card_1_Template","ɵɵelementContainerEnd","ctx_r0","details","ProductDetailsPage","constructor","route","router","clickedElementService","detailService","ngOnInit","params","subscribe","productId","categoryId","console","log","getClickedCommerce","clickedCommerce","commerceId","id","fetchDetailsByProductId","goBack","navigate","_this","_asyncToGenerator","getDetailsByProductId","error","_","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","ClickedElementService","i3","DetailService","_2","selectors","decls","vars","consts","template","ProductDetailsPage_Template","rf","ctx","ɵɵlistener","ProductDetailsPage_Template_ion_back_button_click_3_listener","ProductDetailsPage_ng_container_7_Template","ProductDetailsPage_ng_template_8_Template","ɵɵtemplateRefExtractor","length","_r2"],"sources":["C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\product-details\\product-details.page.ts","C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\product-details\\product-details.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClickedElementService } from 'src/app/services/clicked-element.service';\r\nimport { DetailService } from 'src/app/services/detail.service'; // Import DetailService\r\n\r\n\r\n@Component({\r\n  selector: 'app-product-details',\r\n  templateUrl: './product-details.page.html',\r\n  styleUrls: ['./product-details.page.scss'],\r\n})\r\nexport class ProductDetailsPage implements OnInit {\r\n\r\n  productId!: number;\r\n  categoryId!: number; // Add categoryId property\r\n  commerceId!: number;\r\n  details: any[] = []; // Variable to store product details\r\n  clickedCommerce: any\r\n\r\n  constructor(\r\n    private route: ActivatedRoute, \r\n    private router: Router,\r\n    private clickedElementService: ClickedElementService, \r\n    private detailService: DetailService // Inject DetailService  \r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // Subscribe to route params and extract the productId and categoryId\r\n    this.route.params.subscribe(params => {\r\n      this.productId = params['id'];\r\n      this.categoryId = params['categoryId']; // Capture categoryId\r\n    });\r\n\r\n    console.log('this.productId', this.productId);\r\n    console.log('this.categoryId', this.categoryId);\r\n\r\n    // Retrieve clickedCommerce from ClickedElementService\r\n    this.clickedElementService.getClickedCommerce().subscribe((clickedCommerce) => {\r\n      this.clickedCommerce = clickedCommerce;\r\n      console.log('this.clickedCommerce : ', this.clickedCommerce);\r\n      this.commerceId = clickedCommerce.id\r\n      console.log('this.clickedCommerce : ', this.clickedCommerce);\r\n    });\r\n\r\n    // Fetch details associated with the current product\r\n    this.fetchDetailsByProductId(this.productId);\r\n\r\n  }\r\n\r\n  goBack() {\r\n    // Navigate back to CreateCategoryModalPage with categoryId\r\n    this.router.navigate(['/create-category-modal', this.categoryId, {commerceId: this.commerceId}]);\r\n  }\r\n\r\n  async fetchDetailsByProductId(productId: number) {\r\n    try {\r\n      // Call DetailService to fetch details by productId\r\n      this.details = await this.detailService.getDetailsByProductId(productId);\r\n      console.log('Product Details:', this.details);\r\n    } catch (error) {\r\n      console.error('Error fetching details:', error);\r\n    }\r\n  }\r\n}\r\n","<ion-header [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button (click)=\"goBack()\" defaultHref=\"/create-category-modal\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Product Details</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content [fullscreen]=\"true\">\r\n  <!-- Check if details array is empty -->\r\n  <ng-container *ngIf=\"details.length > 0; else noDetails\">\r\n    <!-- List of cards displaying product details -->\r\n    <ion-card *ngFor=\"let detail of details\">\r\n      <ion-card-header>\r\n        <ion-card-title>{{ detail.detailname }}</ion-card-title>\r\n      </ion-card-header>\r\n      <ion-card-content class=\"card-content\">\r\n        <ion-img class=\"card-image\" [src]=\"detail.image_detail\"></ion-img>\r\n        <p class=\"description\">{{ detail.description }}</p>\r\n        <!-- Add more detail properties here as needed -->\r\n      </ion-card-content>\r\n    </ion-card>\r\n  </ng-container>\r\n  <!-- Display message if details array is empty -->\r\n  <ng-template #noDetails>\r\n    <ion-card>\r\n      <ion-card-content>\r\n        No details available for this product.\r\n      </ion-card-content>\r\n    </ion-card>\r\n  </ng-template>\r\n</ion-content>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
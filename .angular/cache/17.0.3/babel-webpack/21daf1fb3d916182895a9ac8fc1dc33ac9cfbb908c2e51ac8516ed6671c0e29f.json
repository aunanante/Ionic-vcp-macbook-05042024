{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jclon/chatgptVcp/Ionic-vcp-macbook27mars22024/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"./../../services/auth.service\";\nimport * as i5 from \"src/app/services/user.service\";\nimport * as i6 from \"@angular/common\";\nfunction LoginPage_ion_note_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 17);\n    i0.ɵɵtext(1, \"Please insert your email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginPage_ion_note_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 17);\n    i0.ɵɵtext(1, \"Please insert your password\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginPage {\n  constructor(navCtrl, router, fb, authService, loadingController, alertController,\n  // private router: Router,\n  userService) {\n    this.navCtrl = navCtrl;\n    this.router = router;\n    this.fb = fb;\n    this.authService = authService;\n    this.loadingController = loadingController;\n    this.alertController = alertController;\n    this.userService = userService;\n    this.credentials = this.fb.nonNullable.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n    this.authService.getCurrentUser().subscribe(user => {\n      if (user) {\n        // this.router.navigateByUrl('/app/user', { replaceUrl: true });\n      }\n    });\n  }\n  ngOnInit() {}\n  goBackToVillesCommerces() {\n    // You can use navCtrl or router based on your preference\n    // Using NavController:\n    this.navCtrl.navigateBack('/villes-commerces');\n    // Using Router:\n    // this.router.navigate(['/villes-commerces']);\n  }\n\n  get email() {\n    return this.credentials.controls.email;\n  }\n  get password() {\n    return this.credentials.controls.password;\n  }\n  login() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const loading = yield _this.loadingController.create();\n      yield loading.present();\n      _this.authService.signIn(_this.credentials.getRawValue()).then( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (data) {\n          yield loading.dismiss();\n          if (data.error) {\n            _this.showAlert('Login failed', data.error.message);\n          } else {\n            // Store the email in the UserService\n            const email = _this.credentials.controls.email.value;\n            try {\n              yield _this.userService.setCurrentUserEmail(email);\n              console.log('User email set successfully.');\n            } catch (error) {\n              console.error('Error setting user email:', error);\n            }\n            // Navigate to the dashboard\n            _this.router.navigateByUrl('/dashboard', {\n              replaceUrl: true\n            });\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n  showAlert(title, msg) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const alert = yield _this2.alertController.create({\n        header: title,\n        message: msg,\n        buttons: ['OK']\n      });\n      yield alert.present();\n    })();\n  }\n  forgotPw() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const alert = yield _this3.alertController.create({\n        header: \"Receive a new password\",\n        message: \"Please insert your email\",\n        inputs: [{\n          type: \"email\",\n          name: \"email\"\n        }],\n        buttons: [{\n          text: \"Cancel\",\n          role: \"cancel\"\n        }, {\n          text: \"Reset password\",\n          handler: function () {\n            var _ref2 = _asyncToGenerator(function* (result) {\n              const loading = yield _this3.loadingController.create();\n              yield loading.present();\n              const {\n                data,\n                error\n              } = yield _this3.authService.sendPwReset(result.email);\n              yield loading.dismiss();\n              if (error) {\n                _this3.showAlert(\"Failed\", error.message);\n              } else {\n                _this3.showAlert(\"Success\", \"Please check your emails for further instructions!\");\n              }\n            });\n            return function handler(_x2) {\n              return _ref2.apply(this, arguments);\n            };\n          }()\n        }]\n      });\n      yield alert.present();\n    })();\n  }\n  getMagicLink() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const alert = yield _this4.alertController.create({\n        header: \"Get a Magic Link\",\n        message: \"We will send you a link to magically log in!\",\n        inputs: [{\n          type: \"email\",\n          name: \"email\"\n        }],\n        buttons: [{\n          text: \"Cancel\",\n          role: \"cancel\"\n        }, {\n          text: \"Get Magic Link\",\n          handler: function () {\n            var _ref3 = _asyncToGenerator(function* (result) {\n              const loading = yield _this4.loadingController.create();\n              yield loading.present();\n              const {\n                data,\n                error\n              } = yield _this4.authService.signInWithEmail(result.email);\n              yield loading.dismiss();\n              if (error) {\n                _this4.showAlert(\"Failed\", error.message);\n              } else {\n                _this4.showAlert(\"Success\", \"Please check your emails for further instructions!\");\n              }\n            });\n            return function handler(_x3) {\n              return _ref3.apply(this, arguments);\n            };\n          }()\n        }]\n      });\n      yield alert.present();\n    })();\n  }\n  static #_ = this.ɵfac = function LoginPage_Factory(t) {\n    return new (t || LoginPage)(i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i1.LoadingController), i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i5.UserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginPage,\n    selectors: [[\"app-login\"]],\n    decls: 33,\n    vars: 4,\n    consts: [[\"color\", \"primary\"], [\"scrollY\", \"false\"], [3, \"formGroup\", \"ngSubmit\"], [\"position\", \"stacked\"], [\"type\", \"email\", \"inputmode\", \"email\", \"placeholder\", \"Email\", \"formControlName\", \"email\"], [\"slot\", \"error\", 4, \"ngIf\"], [\"type\", \"password\", \"placeholder\", \"Password\", \"formControlName\", \"password\"], [\"type\", \"submit\", \"expand\", \"block\", \"strong\", \"true\", 3, \"disabled\"], [1, \"ion-margin-top\"], [\"type\", \"button\", \"expand\", \"block\", \"color\", \"primary\", \"fill\", \"outline\", \"routerLink\", \"/register\"], [\"name\", \"person-outline\", \"slot\", \"start\"], [\"type\", \"button\", \"expand\", \"block\", \"color\", \"secondary\", 3, \"click\"], [\"name\", \"key-outline\", \"slot\", \"start\"], [\"type\", \"button\", \"expand\", \"block\", \"color\", \"tertiary\", 3, \"click\"], [\"name\", \"mail-outline\", \"slot\", \"start\"], [\"type\", \"button\", \"expand\", \"block\", \"color\", \"warning\", \"routerLink\", \"/villes-commerces\"], [\"name\", \"arrow-forward\", \"slot\", \"start\"], [\"slot\", \"error\"]],\n    template: function LoginPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Login\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-card\")(6, \"ion-card-content\")(7, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginPage_Template_form_ngSubmit_7_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵelementStart(8, \"ion-item\")(9, \"ion-label\", 3);\n        i0.ɵɵtext(10, \"Your Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"ion-input\", 4);\n        i0.ɵɵtemplate(12, LoginPage_ion_note_12_Template, 2, 0, \"ion-note\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"ion-item\")(14, \"ion-label\", 3);\n        i0.ɵɵtext(15, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"ion-input\", 6);\n        i0.ɵɵtemplate(17, LoginPage_ion_note_17_Template, 2, 0, \"ion-note\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ion-button\", 7);\n        i0.ɵɵtext(19, \"Sign in\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 8)(21, \"ion-button\", 9);\n        i0.ɵɵelement(22, \"ion-icon\", 10);\n        i0.ɵɵtext(23, \" Create Account \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"ion-button\", 11);\n        i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_24_listener() {\n          return ctx.forgotPw();\n        });\n        i0.ɵɵelement(25, \"ion-icon\", 12);\n        i0.ɵɵtext(26, \" Forgot password? \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"ion-button\", 13);\n        i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_27_listener() {\n          return ctx.getMagicLink();\n        });\n        i0.ɵɵelement(28, \"ion-icon\", 14);\n        i0.ɵɵtext(29, \" Get a Magic Link \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"ion-button\", 15);\n        i0.ɵɵelement(31, \"ion-icon\", 16);\n        i0.ɵɵtext(32, \" Start without account \");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.credentials);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.email.dirty || ctx.email.touched) && ctx.email.errors);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.password.dirty || ctx.password.touched) && ctx.password.errors);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.credentials.valid);\n      }\n    },\n    dependencies: [i6.NgIf, i3.ɵNgNoValidate, i3.NgControlStatus, i3.NgControlStatusGroup, i1.IonButton, i1.IonCard, i1.IonCardContent, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonLabel, i1.IonNote, i1.IonTitle, i1.IonToolbar, i1.TextValueAccessor, i1.RouterLinkDelegate, i2.RouterLink, i3.FormGroupDirective, i3.FormControlName],\n    styles: [\"ion-content[_ngcontent-%COMP%] {\\n  --padding-top: 20%;\\n  --padding-start: 5%;\\n  --padding-end: 5%;\\n  --background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.7)),\\n      url(\\\"https://images.unsplash.com/photo-1508964942454-1a56651d54ac?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1035&q=80\\\") no-repeat;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0E7cUxBQUE7QUFFSiIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcclxuICAgIC0tcGFkZGluZy10b3A6IDIwJTtcclxuICAgIC0tcGFkZGluZy1zdGFydDogNSU7XHJcbiAgICAtLXBhZGRpbmctZW5kOiA1JTtcclxuICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHJnYmEoMCwgMCwgMCwgMC42KSwgcmdiYSgwLCAwLCAwLCAwLjcpKSxcclxuICAgICAgICB1cmwoJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTA4OTY0OTQyNDU0LTFhNTY2NTFkNTRhYz9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9MTAzNSZxPTgwJykgbm8tcmVwZWF0O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginPage","constructor","navCtrl","router","fb","authService","loadingController","alertController","userService","credentials","nonNullable","group","email","required","password","getCurrentUser","subscribe","user","ngOnInit","goBackToVillesCommerces","navigateBack","controls","login","_this","_asyncToGenerator","loading","create","present","signIn","getRawValue","then","_ref","data","dismiss","error","showAlert","message","value","setCurrentUserEmail","console","log","navigateByUrl","replaceUrl","_x","apply","arguments","title","msg","_this2","alert","header","buttons","forgotPw","_this3","inputs","type","name","text","role","handler","_ref2","result","sendPwReset","_x2","getMagicLink","_this4","_ref3","signInWithEmail","_x3","_","ɵɵdirectiveInject","i1","NavController","i2","Router","i3","FormBuilder","i4","AuthService","LoadingController","AlertController","i5","UserService","_2","selectors","decls","vars","consts","template","LoginPage_Template","rf","ctx","ɵɵlistener","LoginPage_Template_form_ngSubmit_7_listener","ɵɵelement","ɵɵtemplate","LoginPage_ion_note_12_Template","LoginPage_ion_note_17_Template","LoginPage_Template_ion_button_click_24_listener","LoginPage_Template_ion_button_click_27_listener","ɵɵadvance","ɵɵproperty","dirty","touched","errors","valid"],"sources":["C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\login\\login.page.ts","C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\login\\login.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { AuthService } from './../../services/auth.service';\r\nimport { FormBuilder, Validators } from '@angular/forms'\r\nimport { Router } from '@angular/router'\r\nimport { LoadingController, AlertController } from '@ionic/angular'\r\nimport { UserService } from 'src/app/services/user.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\n\r\nexport class LoginPage implements OnInit {\r\n\r\n  credentials = this.fb.nonNullable.group({\r\n    email: ['', Validators.required],\r\n    password: ['', Validators.required],\r\n  })\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    private loadingController: LoadingController,\r\n    private alertController: AlertController,\r\n    // private router: Router,\r\n    private userService: UserService,\r\n  ) {\r\n    this.authService.getCurrentUser().subscribe((user) => {\r\n      if (user) {\r\n        \r\n        // this.router.navigateByUrl('/app/user', { replaceUrl: true });\r\n      }\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  goBackToVillesCommerces() {\r\n    // You can use navCtrl or router based on your preference\r\n    // Using NavController:\r\n    this.navCtrl.navigateBack('/villes-commerces');\r\n\r\n    // Using Router:\r\n    // this.router.navigate(['/villes-commerces']);\r\n  }\r\n \r\n  get email() {\r\n    return this.credentials.controls.email\r\n  }\r\n\r\n  get password() {\r\n    return this.credentials.controls.password\r\n  }\r\n\r\n  async login() {\r\n    const loading = await this.loadingController.create()\r\n    await loading.present()\r\n\r\n    this.authService.signIn(this.credentials.getRawValue()).then(async (data) => {\r\n      await loading.dismiss()\r\n\r\n      if (data.error) {\r\n        this.showAlert('Login failed', data.error.message)\r\n      } else {\r\n        \r\n        // Store the email in the UserService\r\n        const email = this.credentials.controls.email.value;\r\n        try {\r\n          await this.userService.setCurrentUserEmail(email);\r\n          console.log('User email set successfully.');\r\n        } catch (error) {\r\n          console.error('Error setting user email:', error);\r\n        }\r\n\r\n        // Navigate to the dashboard\r\n        this.router.navigateByUrl('/dashboard', { replaceUrl: true });\r\n      }\r\n    })\r\n  }\r\n\r\n  async showAlert(title: string, msg: string) {\r\n    const alert = await this.alertController.create({\r\n      header: title,\r\n      message: msg,\r\n      buttons: ['OK'],\r\n    })\r\n    await alert.present()\r\n  }\r\n\r\n  async forgotPw() {\r\n    const alert = await this.alertController.create({\r\n      header: \"Receive a new password\",\r\n      message: \"Please insert your email\",\r\n      inputs: [\r\n        {\r\n          type: \"email\",\r\n          name: \"email\",\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: \"Cancel\",\r\n          role: \"cancel\",\r\n        },\r\n        {\r\n          text: \"Reset password\",\r\n          handler: async (result) => {\r\n            const loading = await this.loadingController.create();\r\n            await loading.present();\r\n            const { data, error } = await this.authService.sendPwReset(\r\n              result.email\r\n            );\r\n            await loading.dismiss();\r\n\r\n            if (error) {\r\n              this.showAlert(\"Failed\", error.message);\r\n            } else {\r\n              this.showAlert(\r\n                \"Success\",\r\n                \"Please check your emails for further instructions!\"\r\n              );\r\n            }\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async getMagicLink() {\r\n    const alert = await this.alertController.create({\r\n      header: \"Get a Magic Link\",\r\n      message: \"We will send you a link to magically log in!\",\r\n      inputs: [\r\n        {\r\n          type: \"email\",\r\n          name: \"email\",\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: \"Cancel\",\r\n          role: \"cancel\",\r\n        },\r\n        {\r\n          text: \"Get Magic Link\",\r\n          handler: async (result) => {\r\n            const loading = await this.loadingController.create();\r\n            await loading.present();\r\n            const { data, error } = await this.authService.signInWithEmail(\r\n              result.email\r\n            );\r\n            await loading.dismiss();\r\n\r\n            if (error) {\r\n              this.showAlert(\"Failed\", error.message);\r\n            } else {\r\n              this.showAlert(\r\n                \"Success\",\r\n                \"Please check your emails for further instructions!\"\r\n              );\r\n            }\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-title>Login</ion-title>\r\n    \r\n  </ion-toolbar>\r\n</ion-header>\r\n \r\n<ion-content scrollY=\"false\">\r\n  <ion-card>\r\n    <ion-card-content>\r\n      <form (ngSubmit)=\"login()\" [formGroup]=\"credentials\">\r\n        <ion-item>\r\n          <ion-label position=\"stacked\">Your Email</ion-label>\r\n          <ion-input type=\"email\" inputmode=\"email\" placeholder=\"Email\" formControlName=\"email\"></ion-input>\r\n          <ion-note slot=\"error\" *ngIf=\"(email.dirty || email.touched) && email.errors\">Please insert your\r\n            email</ion-note>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label position=\"stacked\">Password</ion-label>\r\n          <ion-input type=\"password\" placeholder=\"Password\" formControlName=\"password\"></ion-input>\r\n          <ion-note slot=\"error\" *ngIf=\"(password.dirty || password.touched) && password.errors\">Please insert your\r\n            password</ion-note>\r\n        </ion-item>\r\n        <ion-button type=\"submit\" expand=\"block\" strong=\"true\" [disabled]=\"!credentials.valid\">Sign in</ion-button>\r\n\r\n        <div class=\"ion-margin-top\">\r\n          <ion-button type=\"button\" expand=\"block\" color=\"primary\" fill=\"outline\" routerLink=\"/register\">\r\n            <ion-icon name=\"person-outline\" slot=\"start\"></ion-icon>\r\n            Create Account\r\n          </ion-button>\r\n\r\n          <ion-button type=\"button\" expand=\"block\" color=\"secondary\" (click)=\"forgotPw()\">\r\n            <ion-icon name=\"key-outline\" slot=\"start\"></ion-icon>\r\n            Forgot password?\r\n          </ion-button>\r\n\r\n          <ion-button type=\"button\" expand=\"block\" color=\"tertiary\" (click)=\"getMagicLink()\">\r\n            <ion-icon name=\"mail-outline\" slot=\"start\"></ion-icon>\r\n            Get a Magic Link\r\n          </ion-button>\r\n          <ion-button type=\"button\" expand=\"block\" color=\"warning\" routerLink=\"/villes-commerces\">\r\n            <ion-icon name=\"arrow-forward\" slot=\"start\"></ion-icon>\r\n            Start without account\r\n          </ion-button>\r\n        </div>\r\n      </form>\r\n    </ion-card-content>\r\n  </ion-card>\r\n</ion-content>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
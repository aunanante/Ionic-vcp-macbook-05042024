{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jclon/chatgptVcp/Ionic-vcp-macbook27mars22024/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CreatePaymentPage } from '../create-payment/create-payment.page';\nimport { RenewPaymentPage } from '../renew-payment/renew-payment.page'; // Import RenewPaymentPage\nimport { Validators } from '@angular/forms'; // Import FormGroup, FormBuilder, and Validators\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"src/app/services/payment.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = a0 => ({\n  \"expired\": a0\n});\nfunction PaymentsPage_ion_card_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\")(1, \"ion-card-content\")(2, \"form\", 3)(3, \"ion-item\")(4, \"ion-label\", 4);\n    i0.ɵɵtext(5, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ion-input\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-item\")(8, \"ion-label\", 4);\n    i0.ɵɵtext(9, \"Duration (months)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"ion-input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ion-item\")(12, \"ion-label\", 4);\n    i0.ɵɵtext(13, \"Payment Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"ion-input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ion-item\")(16, \"ion-label\", 4);\n    i0.ɵɵtext(17, \"Expiry Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"ion-input\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"ion-item\", 9)(20, \"ion-label\", 10);\n    i0.ɵɵtext(21, \"Days Remaining\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"ion-input\", 11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.paymentForm);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c0, ctx_r0.daysRemaining <= 0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r0.daysRemaining <= 0 ? \"Expired\" : ctx_r0.daysRemaining + \" days\");\n  }\n}\nfunction PaymentsPage_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1, \" No payment found for the business owner. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"ion-fab\", 13)(3, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function PaymentsPage_ng_template_6_Template_ion_fab_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.openCreatePaymentModal());\n    });\n    i0.ɵɵelement(4, \"ion-icon\", 15);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PaymentsPage_ion_footer_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-footer\")(1, \"ion-button\", 16);\n    i0.ɵɵlistener(\"click\", function PaymentsPage_ion_footer_8_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openRenewPaymentModal());\n    });\n    i0.ɵɵtext(2, \"Renew Payment\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class PaymentsPage {\n  constructor(userService, paymentService, modalController, formBuilder, alertController, cdRef) {\n    this.userService = userService;\n    this.paymentService = paymentService;\n    this.modalController = modalController;\n    this.formBuilder = formBuilder;\n    this.alertController = alertController;\n    this.cdRef = cdRef;\n    this.daysRemaining = 0;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.paymentForm = _this.formBuilder.group({\n        amount: ['', Validators.required],\n        duration_months: ['', Validators.required],\n        payment_date: [''],\n        expiry_date: ['']\n      });\n      const businessOwnerId = yield _this.userService.getBusinessOwnerId();\n      if (businessOwnerId) {\n        const latestPayment = yield _this.paymentService.getLatestPayment(businessOwnerId);\n        if (latestPayment) {\n          _this.latestPayment = latestPayment;\n          _this.updatePaymentForm(latestPayment);\n        } else {\n          console.error('No payment found for the business owner.');\n        }\n      } else {\n        console.error('Business owner ID not found.');\n      }\n      _this.calculateDaysRemaining();\n    })();\n  }\n  updatePaymentForm(payment) {\n    this.paymentForm.patchValue({\n      amount: payment.amount,\n      duration_months: payment.duration_months,\n      payment_date: payment.payment_date,\n      expiry_date: payment.expiry_date\n    });\n  }\n  openCreatePaymentModal() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this2.modalController.create({\n        component: CreatePaymentPage,\n        componentProps: {} // You can pass props here if needed\n      });\n\n      modal.onDidDismiss().then(data => {\n        if (data.role === 'confirm' && data.data) {\n          // If payment is confirmed and data is returned\n          _this2.latestPayment = data.data; // Update latest payment with the returned data\n          _this2.updateDaysRemaining(); // Update days remaining\n        }\n      });\n\n      return yield modal.present(); // Present the modal\n    })();\n  }\n\n  openRenewPaymentModal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.latestPayment) {\n        const currentDate = new Date();\n        const expiryDate = new Date(_this3.latestPayment.expiry_date);\n        if (currentDate > expiryDate) {\n          try {\n            const modal = yield _this3.modalController.create({\n              component: RenewPaymentPage,\n              componentProps: {\n                latestPayment: _this3.latestPayment\n              }\n            });\n            modal.onDidDismiss().then(data => {\n              if (data.role === 'confirm' && data.data) {\n                _this3.latestPayment = data.data;\n                _this3.updatePaymentForm(data.data);\n                _this3.updateDaysRemaining();\n              }\n            });\n            yield modal.present();\n          } catch (error) {\n            console.error('Error opening renew payment modal:', error);\n          }\n        } else {\n          _this3.presentAlert('Payment Renewal Not Allowed', 'You cannot renew your payment before the expiry date.');\n        }\n      }\n    })();\n  }\n  presentAlert(header, message) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const alert = yield _this4.alertController.create({\n        header: header,\n        message: message,\n        buttons: ['OK']\n      });\n      yield alert.present();\n    })();\n  }\n  calculateDaysRemaining() {\n    if (this.latestPayment) {\n      const expiryDate = new Date(this.latestPayment.expiry_date);\n      const currentDate = new Date();\n      const differenceInTime = expiryDate.getTime() - currentDate.getTime();\n      this.daysRemaining = Math.ceil(differenceInTime / (1000 * 3600 * 24));\n    }\n  }\n  updateDaysRemaining() {\n    this.calculateDaysRemaining();\n    // Force Angular to detect changes and update the view\n    this.cdRef.detectChanges();\n  }\n  static #_ = this.ɵfac = function PaymentsPage_Factory(t) {\n    return new (t || PaymentsPage)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.PaymentService), i0.ɵɵdirectiveInject(i3.ModalController), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i3.AlertController), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PaymentsPage,\n    selectors: [[\"app-payments\"]],\n    decls: 9,\n    vars: 3,\n    consts: [[4, \"ngIf\", \"ngIfElse\"], [\"noPaymentFound\", \"\"], [4, \"ngIf\"], [3, \"formGroup\"], [\"position\", \"stacked\", \"readonly\", \"\"], [\"formControlName\", \"amount\", \"readonly\", \"\"], [\"formControlName\", \"duration_months\", \"readonly\", \"\"], [\"formControlName\", \"payment_date\", \"readonly\", \"\"], [\"formControlName\", \"expiry_date\", \"readonly\", \"\"], [3, \"ngClass\"], [\"position\", \"stacked\", \"color\", \"primary\"], [\"readonly\", \"\", 3, \"value\"], [1, \"message\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\"], [3, \"click\"], [\"name\", \"add\"], [\"expand\", \"block\", 3, \"click\"]],\n    template: function PaymentsPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Payments\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(4, \"ion-content\");\n        i0.ɵɵtemplate(5, PaymentsPage_ion_card_5_Template, 23, 5, \"ion-card\", 0)(6, PaymentsPage_ng_template_6_Template, 5, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, PaymentsPage_ion_footer_8_Template, 3, 0, \"ion-footer\", 2);\n      }\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(7);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.latestPayment)(\"ngIfElse\", _r2);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.latestPayment);\n      }\n    },\n    dependencies: [i5.NgClass, i5.NgIf, i4.ɵNgNoValidate, i4.NgControlStatus, i4.NgControlStatusGroup, i3.IonButton, i3.IonCard, i3.IonCardContent, i3.IonContent, i3.IonFab, i3.IonFabButton, i3.IonFooter, i3.IonHeader, i3.IonIcon, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i4.FormGroupDirective, i4.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["CreatePaymentPage","RenewPaymentPage","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","ctx_r0","paymentForm","ɵɵpureFunction1","_c0","daysRemaining","ɵɵpropertyInterpolate","ɵɵlistener","PaymentsPage_ng_template_6_Template_ion_fab_button_click_3_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","openCreatePaymentModal","PaymentsPage_ion_footer_8_Template_ion_button_click_1_listener","_r7","ctx_r6","openRenewPaymentModal","PaymentsPage","constructor","userService","paymentService","modalController","formBuilder","alertController","cdRef","ngOnInit","_this","_asyncToGenerator","group","amount","required","duration_months","payment_date","expiry_date","businessOwnerId","getBusinessOwnerId","latestPayment","getLatestPayment","updatePaymentForm","console","error","calculateDaysRemaining","payment","patchValue","_this2","modal","create","component","componentProps","onDidDismiss","then","data","role","updateDaysRemaining","present","_this3","currentDate","Date","expiryDate","presentAlert","header","message","_this4","alert","buttons","differenceInTime","getTime","Math","ceil","detectChanges","_","ɵɵdirectiveInject","i1","UserService","i2","PaymentService","i3","ModalController","i4","FormBuilder","AlertController","ChangeDetectorRef","_2","selectors","decls","vars","consts","template","PaymentsPage_Template","rf","ctx","ɵɵtemplate","PaymentsPage_ion_card_5_Template","PaymentsPage_ng_template_6_Template","ɵɵtemplateRefExtractor","PaymentsPage_ion_footer_8_Template","_r2"],"sources":["C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\payments\\payments.page.ts","C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\payments\\payments.page.html"],"sourcesContent":["import { Component, OnInit, ChangeDetectorRef } from '@angular/core'; // Import ChangeDetectorRef\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { PaymentService } from 'src/app/services/payment.service';\r\nimport { AlertController, ModalController } from '@ionic/angular'; // Import ModalController\r\nimport { CreatePaymentPage } from '../create-payment/create-payment.page';\r\nimport { RenewPaymentPage } from '../renew-payment/renew-payment.page'; // Import RenewPaymentPage\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms'; // Import FormGroup, FormBuilder, and Validators\r\n\r\n@Component({\r\n  selector: 'app-payments',\r\n  templateUrl: './payments.page.html',\r\n  styleUrls: ['./payments.page.scss'],\r\n})\r\nexport class PaymentsPage implements OnInit {\r\n  latestPayment: any; // Define a property to hold the latest payment information\r\n  paymentForm!: FormGroup; // Define a FormGroup for the payment form\r\n  daysRemaining: number = 0;\r\n\r\n  constructor( \r\n    private userService: UserService,\r\n    private paymentService: PaymentService,\r\n    private modalController: ModalController,\r\n    private formBuilder: FormBuilder,\r\n    private alertController: AlertController,\r\n    private cdRef: ChangeDetectorRef\r\n  ) {}\r\n\r\n  \r\n\r\n  async ngOnInit() {\r\n    this.paymentForm = this.formBuilder.group({\r\n      amount: ['', Validators.required],\r\n      duration_months: ['', Validators.required],\r\n      payment_date: [''],\r\n      expiry_date: [''],\r\n    });\r\n\r\n    const businessOwnerId = await this.userService.getBusinessOwnerId();\r\n    if (businessOwnerId) {\r\n      const latestPayment = await this.paymentService.getLatestPayment(businessOwnerId);\r\n      if (latestPayment) {\r\n        this.latestPayment = latestPayment;\r\n        this.updatePaymentForm(latestPayment);\r\n      } else {\r\n        console.error('No payment found for the business owner.');\r\n      }\r\n    } else {\r\n      console.error('Business owner ID not found.');\r\n    }\r\n\r\n    this.calculateDaysRemaining();\r\n  }\r\n\r\n  updatePaymentForm(payment: any) {\r\n    this.paymentForm.patchValue({\r\n      amount: payment.amount,\r\n      duration_months: payment.duration_months,\r\n      payment_date: payment.payment_date,\r\n      expiry_date: payment.expiry_date,\r\n    });\r\n  }\r\n\r\n  async openCreatePaymentModal() {\r\n    const modal = await this.modalController.create({\r\n      component: CreatePaymentPage, // Specify the component to be used as the modal\r\n      componentProps: {}, // You can pass props here if needed\r\n    });\r\n\r\n    modal.onDidDismiss().then((data) => {\r\n      if (data.role === 'confirm' && data.data) {\r\n        // If payment is confirmed and data is returned\r\n        this.latestPayment = data.data; // Update latest payment with the returned data\r\n        this.updateDaysRemaining(); // Update days remaining\r\n      }\r\n    });\r\n\r\n    return await modal.present(); // Present the modal\r\n  }\r\n \r\n  async openRenewPaymentModal() {\r\n    if (this.latestPayment) {\r\n      const currentDate = new Date();\r\n      const expiryDate = new Date(this.latestPayment.expiry_date);\r\n\r\n      if (currentDate > expiryDate) {\r\n        try {\r\n          const modal = await this.modalController.create({\r\n            component: RenewPaymentPage,\r\n            componentProps: {\r\n              latestPayment: this.latestPayment,\r\n            },\r\n          });\r\n\r\n          modal.onDidDismiss().then((data) => {\r\n            if (data.role === 'confirm' && data.data) {\r\n              this.latestPayment = data.data;\r\n              this.updatePaymentForm(data.data);\r\n              this.updateDaysRemaining();\r\n            }\r\n          });\r\n\r\n          await modal.present();\r\n        } catch (error) {\r\n          console.error('Error opening renew payment modal:', error);\r\n        }\r\n      } else {\r\n        this.presentAlert(\r\n          'Payment Renewal Not Allowed',\r\n          'You cannot renew your payment before the expiry date.'\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  async presentAlert(header: string, message: string) {\r\n    const alert = await this.alertController.create({\r\n      header: header,\r\n      message: message,\r\n      buttons: ['OK'],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  calculateDaysRemaining() {\r\n    if (this.latestPayment) {\r\n      const expiryDate = new Date(this.latestPayment.expiry_date);\r\n      const currentDate = new Date();\r\n      const differenceInTime = expiryDate.getTime() - currentDate.getTime();\r\n      this.daysRemaining = Math.ceil(differenceInTime / (1000 * 3600 * 24));\r\n    }\r\n  }\r\n\r\n  updateDaysRemaining() {\r\n    this.calculateDaysRemaining();\r\n    // Force Angular to detect changes and update the view\r\n    this.cdRef.detectChanges();\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>Payments</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-card *ngIf=\"latestPayment; else noPaymentFound\">\r\n    <ion-card-content>\r\n      <!-- Display the payment form -->\r\n      <form [formGroup]=\"paymentForm\">\r\n        <ion-item>\r\n          <ion-label position=\"stacked\" readonly>Amount</ion-label>\r\n          <ion-input formControlName=\"amount\" readonly></ion-input>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label position=\"stacked\" readonly>Duration (months)</ion-label>\r\n          <ion-input formControlName=\"duration_months\" readonly></ion-input>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label position=\"stacked\" readonly>Payment Date</ion-label>\r\n          <ion-input formControlName=\"payment_date\" readonly></ion-input>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label position=\"stacked\" readonly>Expiry Date</ion-label>\r\n          <ion-input formControlName=\"expiry_date\" readonly></ion-input>\r\n        </ion-item>\r\n\r\n        <!-- Display remaining days -->\r\n      <ion-item [ngClass]=\"{'expired': daysRemaining <= 0}\">\r\n        <ion-label position=\"stacked\" color=\"primary\">Days Remaining</ion-label>\r\n        <ion-input value=\"{{ daysRemaining <= 0 ? 'Expired' : daysRemaining + ' days' }}\" readonly></ion-input>\r\n      </ion-item>\r\n        \r\n      </form>\r\n    </ion-card-content>\r\n  </ion-card>\r\n\r\n  <ng-template #noPaymentFound>\r\n    <div class=\"message\">\r\n      No payment found for the business owner.\r\n    </div>\r\n    <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\r\n      <ion-fab-button (click)=\"openCreatePaymentModal()\">\r\n        <ion-icon name=\"add\"></ion-icon>\r\n      </ion-fab-button>\r\n    </ion-fab>\r\n  </ng-template>\r\n</ion-content>\r\n\r\n<ion-footer *ngIf=\"latestPayment\">\r\n  <ion-button (click)=\"openRenewPaymentModal()\" expand=\"block\">Renew Payment</ion-button>\r\n</ion-footer>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
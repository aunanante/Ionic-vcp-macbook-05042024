{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/common\";\nfunction VillesModalPage_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 3);\n    i0.ɵɵlistener(\"click\", function VillesModalPage_ion_item_7_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const ville_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectVille(ville_r1));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ville_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ville_r1.villename, \" \");\n  }\n}\nexport class VillesModalPage {\n  constructor(modalController) {\n    this.modalController = modalController;\n    this.villesList = [];\n    this.filteredVillesList = [];\n  }\n  ngOnInit() {\n    // Initialize the filtered list with the original list\n    this.filteredVillesList = [...this.villesList];\n  }\n  onSearch(event) {\n    const searchTerm = (event.detail.value || '').toLowerCase();\n    // Filter the villesList based on the search term\n    this.filteredVillesList = this.villesList.filter(ville => ville.villename.toLowerCase().includes(searchTerm));\n  }\n  dismissModal(selectedVilleId) {\n    // Dismiss the modal and pass the selected ville id as the result\n    this.modalController.dismiss(selectedVilleId);\n  }\n  selectVille(ville) {\n    // Dismiss the modal and pass the selected ville id back to VillesCommercesPage\n    this.dismissModal(ville.id); // Assuming 'id' is the property you want to pass\n  }\n  static #_ = this.ɵfac = function VillesModalPage_Factory(t) {\n    return new (t || VillesModalPage)(i0.ɵɵdirectiveInject(i1.ModalController));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VillesModalPage,\n    selectors: [[\"app-villes-modal\"]],\n    inputs: {\n      villesList: \"villesList\"\n    },\n    decls: 12,\n    vars: 1,\n    consts: [[\"placeholder\", \"Search Villes\", 3, \"ionInput\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"color\", \"medium\", \"slot\", \"end\", 3, \"click\"], [3, \"click\"]],\n    template: function VillesModalPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3, \" Villes Modal \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(4, \"ion-content\")(5, \"ion-searchbar\", 0);\n        i0.ɵɵlistener(\"ionInput\", function VillesModalPage_Template_ion_searchbar_ionInput_5_listener($event) {\n          return ctx.onSearch($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-list\");\n        i0.ɵɵtemplate(7, VillesModalPage_ion_item_7_Template, 2, 1, \"ion-item\", 1);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"ion-footer\")(9, \"ion-toolbar\")(10, \"ion-button\", 2);\n        i0.ɵɵlistener(\"click\", function VillesModalPage_Template_ion_button_click_10_listener() {\n          return ctx.dismissModal();\n        });\n        i0.ɵɵtext(11, \" Cancel \");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredVillesList);\n      }\n    },\n    dependencies: [i2.NgForOf, i1.IonButton, i1.IonContent, i1.IonFooter, i1.IonHeader, i1.IonItem, i1.IonList, i1.IonSearchbar, i1.IonTitle, i1.IonToolbar, i1.TextValueAccessor],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","VillesModalPage_ion_item_7_Template_ion_item_click_0_listener","restoredCtx","ɵɵrestoreView","_r3","ville_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","selectVille","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","villename","VillesModalPage","constructor","modalController","villesList","filteredVillesList","ngOnInit","onSearch","event","searchTerm","detail","value","toLowerCase","filter","ville","includes","dismissModal","selectedVilleId","dismiss","id","_","ɵɵdirectiveInject","i1","ModalController","_2","selectors","inputs","decls","vars","consts","template","VillesModalPage_Template","rf","ctx","VillesModalPage_Template_ion_searchbar_ionInput_5_listener","$event","ɵɵtemplate","VillesModalPage_ion_item_7_Template","VillesModalPage_Template_ion_button_click_10_listener","ɵɵproperty"],"sources":["C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\villes-modal\\villes-modal.page.ts","C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\villes-modal\\villes-modal.page.html"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController, AlertController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-villes-modal',\r\n  templateUrl: './villes-modal.page.html',\r\n  styleUrls: ['./villes-modal.page.scss'],\r\n})\r\nexport class VillesModalPage implements OnInit {\r\n\r\n  @Input() villesList: any[] = [];\r\n  filteredVillesList: any[] = [];\r\n  \r\n\r\n  constructor(private modalController: ModalController) { }\r\n\r\n  ngOnInit() {\r\n   // Initialize the filtered list with the original list\r\n   this.filteredVillesList = [...this.villesList];\r\n  } \r\n\r\n  onSearch(event: CustomEvent) {\r\n    const searchTerm = (event.detail.value || '').toLowerCase();\r\n    // Filter the villesList based on the search term\r\n    this.filteredVillesList = this.villesList.filter(ville => ville.villename.toLowerCase().includes(searchTerm));\r\n  }\r\n\r\n  dismissModal(selectedVilleId?: number) {\r\n    // Dismiss the modal and pass the selected ville id as the result\r\n    this.modalController.dismiss(selectedVilleId);\r\n  }\r\n\r\n  selectVille(ville: any) {\r\n    // Dismiss the modal and pass the selected ville id back to VillesCommercesPage\r\n    this.dismissModal(ville.id); // Assuming 'id' is the property you want to pass\r\n  }\r\n\r\n}\r\n","<!-- villes-modal.page.html -->\r\n\r\n<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>\r\n      Villes Modal\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-searchbar (ionInput)=\"onSearch($event)\" placeholder=\"Search Villes\"></ion-searchbar>\r\n\r\n  <ion-list>\r\n    <ion-item *ngFor=\"let ville of filteredVillesList\" (click)=\"selectVille(ville)\">\r\n      {{ ville.villename }}\r\n    </ion-item>\r\n  </ion-list>\r\n</ion-content>\r\n\r\n<ion-footer>\r\n  <ion-toolbar>\r\n    <!-- Add a \"Cancel\" button to close the modal without selecting a ville -->\r\n    <ion-button (click)=\"dismissModal()\" color=\"medium\" slot=\"end\">\r\n      Cancel\r\n    </ion-button>\r\n  </ion-toolbar>\r\n</ion-footer>\r\n"],"mappings":";;;;;;ICcIA,EAAA,CAAAC,cAAA,kBAAgF;IAA7BD,EAAA,CAAAE,UAAA,mBAAAC,8DAAA;MAAA,MAAAC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,QAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAT,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAF,MAAA,CAAAG,WAAA,CAAAL,QAAA,CAAkB;IAAA,EAAC;IAC7EP,EAAA,CAAAa,MAAA,GACF;IAAAb,EAAA,CAAAc,YAAA,EAAW;;;;IADTd,EAAA,CAAAe,SAAA,GACF;IADEf,EAAA,CAAAgB,kBAAA,MAAAT,QAAA,CAAAU,SAAA,MACF;;;ADRJ,OAAM,MAAOC,eAAe;EAM1BC,YAAoBC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;IAJ1B,KAAAC,UAAU,GAAU,EAAE;IAC/B,KAAAC,kBAAkB,GAAU,EAAE;EAG0B;EAExDC,QAAQA,CAAA;IACP;IACA,IAAI,CAACD,kBAAkB,GAAG,CAAC,GAAG,IAAI,CAACD,UAAU,CAAC;EAC/C;EAEAG,QAAQA,CAACC,KAAkB;IACzB,MAAMC,UAAU,GAAG,CAACD,KAAK,CAACE,MAAM,CAACC,KAAK,IAAI,EAAE,EAAEC,WAAW,EAAE;IAC3D;IACA,IAAI,CAACP,kBAAkB,GAAG,IAAI,CAACD,UAAU,CAACS,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACd,SAAS,CAACY,WAAW,EAAE,CAACG,QAAQ,CAACN,UAAU,CAAC,CAAC;EAC/G;EAEAO,YAAYA,CAACC,eAAwB;IACnC;IACA,IAAI,CAACd,eAAe,CAACe,OAAO,CAACD,eAAe,CAAC;EAC/C;EAEAtB,WAAWA,CAACmB,KAAU;IACpB;IACA,IAAI,CAACE,YAAY,CAACF,KAAK,CAACK,EAAE,CAAC,CAAC,CAAC;EAC/B;EAAC,QAAAC,CAAA,G;qBA3BUnB,eAAe,EAAAlB,EAAA,CAAAsC,iBAAA,CAAAC,EAAA,CAAAC,eAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAfvB,eAAe;IAAAwB,SAAA;IAAAC,MAAA;MAAAtB,UAAA;IAAA;IAAAuB,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,yBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCN5BjD,EAAA,CAAAC,cAAA,iBAAY;QAGND,EAAA,CAAAa,MAAA,qBACF;QAAAb,EAAA,CAAAc,YAAA,EAAY;QAIhBd,EAAA,CAAAC,cAAA,kBAAa;QACID,EAAA,CAAAE,UAAA,sBAAAiD,2DAAAC,MAAA;UAAA,OAAYF,GAAA,CAAA1B,QAAA,CAAA4B,MAAA,CAAgB;QAAA,EAAC;QAA6BpD,EAAA,CAAAc,YAAA,EAAgB;QAEzFd,EAAA,CAAAC,cAAA,eAAU;QACRD,EAAA,CAAAqD,UAAA,IAAAC,mCAAA,sBAEW;QACbtD,EAAA,CAAAc,YAAA,EAAW;QAGbd,EAAA,CAAAC,cAAA,iBAAY;QAGID,EAAA,CAAAE,UAAA,mBAAAqD,sDAAA;UAAA,OAASL,GAAA,CAAAjB,YAAA,EAAc;QAAA,EAAC;QAClCjC,EAAA,CAAAa,MAAA,gBACF;QAAAb,EAAA,CAAAc,YAAA,EAAa;;;QAXed,EAAA,CAAAe,SAAA,GAAqB;QAArBf,EAAA,CAAAwD,UAAA,YAAAN,GAAA,CAAA5B,kBAAA,CAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jclon/chatgptVcp/Ionic-vcp-macbook27mars22024/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nfunction RegisterPage_ion_note_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 10);\n    i0.ɵɵtext(1, \"Please insert a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterPage_ion_note_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 10);\n    i0.ɵɵtext(1, \"Please insert a password \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterPage_ion_note_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 10);\n    i0.ɵɵtext(1, \"Minlength 6 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class RegisterPage {\n  constructor(fb, authService, loadingController, alertController, navCtrl) {\n    this.fb = fb;\n    this.authService = authService;\n    this.loadingController = loadingController;\n    this.alertController = alertController;\n    this.navCtrl = navCtrl;\n    this.credentials = this.fb.nonNullable.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  get email() {\n    return this.credentials.controls.email;\n  }\n  get password() {\n    return this.credentials.controls.password;\n  }\n  createAccount() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const loading = yield _this.loadingController.create();\n      yield loading.present();\n      _this.authService.signUp(_this.credentials.getRawValue()).then( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (data) {\n          yield loading.dismiss();\n          if (data.error) {\n            _this.showAlert('Registration failed', data.error.message);\n          } else {\n            _this.showAlert('Signup success', 'Please confirm your email now!');\n            _this.navCtrl.navigateBack('');\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n  showAlert(title, msg) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const alert = yield _this2.alertController.create({\n        header: title,\n        message: msg,\n        buttons: ['OK']\n      });\n      yield alert.present();\n    })();\n  }\n  ngOnInit() {}\n  static #_ = this.ɵfac = function RegisterPage_Factory(t) {\n    return new (t || RegisterPage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.LoadingController), i0.ɵɵdirectiveInject(i3.AlertController), i0.ɵɵdirectiveInject(i3.NavController));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterPage,\n    selectors: [[\"app-register\"]],\n    decls: 23,\n    vars: 5,\n    consts: [[\"color\", \"primary\"], [\"slot\", \"start\"], [\"defaultHref\", \"/\"], [\"scrollY\", \"false\"], [3, \"formGroup\", \"ngSubmit\"], [\"position\", \"stacked\"], [\"type\", \"email\", \"inputmode\", \"email\", \"placeholder\", \"Email\", \"formControlName\", \"email\"], [\"slot\", \"error\", 4, \"ngIf\"], [\"type\", \"password\", \"placeholder\", \"Password\", \"formControlName\", \"password\"], [\"type\", \"submit\", \"expand\", \"block\", \"strong\", \"true\", 3, \"disabled\"], [\"slot\", \"error\"]],\n    template: function RegisterPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-buttons\", 1);\n        i0.ɵɵelement(3, \"ion-back-button\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5, \"Register\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\", 3)(7, \"ion-card\")(8, \"ion-card-content\")(9, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterPage_Template_form_ngSubmit_9_listener() {\n          return ctx.createAccount();\n        });\n        i0.ɵɵelementStart(10, \"ion-item\")(11, \"ion-label\", 5);\n        i0.ɵɵtext(12, \"Your Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"ion-input\", 6);\n        i0.ɵɵtemplate(14, RegisterPage_ion_note_14_Template, 2, 0, \"ion-note\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ion-item\")(16, \"ion-label\", 5);\n        i0.ɵɵtext(17, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"ion-input\", 8);\n        i0.ɵɵtemplate(19, RegisterPage_ion_note_19_Template, 2, 0, \"ion-note\", 7)(20, RegisterPage_ion_note_20_Template, 2, 0, \"ion-note\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"ion-button\", 9);\n        i0.ɵɵtext(22, \"Create my account\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formGroup\", ctx.credentials);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.email.dirty || ctx.email.touched) && ctx.email.errors);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.password.dirty || ctx.password.touched) && (ctx.password.errors == null ? null : ctx.password.errors[\"required\"]));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.password.dirty || ctx.password.touched) && (ctx.password.errors == null ? null : ctx.password.errors[\"minlength\"]));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.credentials.valid);\n      }\n    },\n    dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i3.IonButton, i3.IonButtons, i3.IonCard, i3.IonCardContent, i3.IonContent, i3.IonHeader, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonNote, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i3.IonBackButton, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"ion-content[_ngcontent-%COMP%] {\\n  --padding-top: 20%;\\n  --padding-start: 5%;\\n  --padding-end: 5%;\\n  --background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.7)),\\n      url(\\\"https://images.unsplash.com/photo-1508964942454-1a56651d54ac?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1035&q=80\\\") no-repeat;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0E7cUxBQUE7QUFFSiIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcclxuICAgIC0tcGFkZGluZy10b3A6IDIwJTtcclxuICAgIC0tcGFkZGluZy1zdGFydDogNSU7XHJcbiAgICAtLXBhZGRpbmctZW5kOiA1JTtcclxuICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHJnYmEoMCwgMCwgMCwgMC42KSwgcmdiYSgwLCAwLCAwLCAwLjcpKSxcclxuICAgICAgICB1cmwoJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTA4OTY0OTQyNDU0LTFhNTY2NTFkNTRhYz9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9MTAzNSZxPTgwJykgbm8tcmVwZWF0O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","RegisterPage","constructor","fb","authService","loadingController","alertController","navCtrl","credentials","nonNullable","group","email","required","password","minLength","controls","createAccount","_this","_asyncToGenerator","loading","create","present","signUp","getRawValue","then","_ref","data","dismiss","error","showAlert","message","navigateBack","_x","apply","arguments","title","msg","_this2","alert","header","buttons","ngOnInit","_","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","LoadingController","AlertController","NavController","_2","selectors","decls","vars","consts","template","RegisterPage_Template","rf","ctx","ɵɵelement","ɵɵlistener","RegisterPage_Template_form_ngSubmit_9_listener","ɵɵtemplate","RegisterPage_ion_note_14_Template","RegisterPage_ion_note_19_Template","RegisterPage_ion_note_20_Template","ɵɵadvance","ɵɵproperty","dirty","touched","errors","valid"],"sources":["C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\register\\register.page.ts","C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\register\\register.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Validators, FormBuilder } from '@angular/forms'\r\nimport { LoadingController, AlertController, NavController } from '@ionic/angular'\r\nimport { AuthService } from 'src/app/services/auth.service'\r\n\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.page.html',\r\n  styleUrls: ['./register.page.scss'],\r\n})\r\nexport class RegisterPage implements OnInit {\r\n\r\n  credentials = this.fb.nonNullable.group({\r\n    email: ['', [Validators.required, Validators.email]],\r\n    password: ['', [Validators.required, Validators.minLength(6)]],\r\n  })\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    private loadingController: LoadingController,\r\n    private alertController: AlertController,\r\n    private navCtrl: NavController\r\n  ) {}\r\n\r\n  get email() {\r\n    return this.credentials.controls.email\r\n  }\r\n\r\n  get password() {\r\n    return this.credentials.controls.password\r\n  }\r\n\r\n  async createAccount() {\r\n    const loading = await this.loadingController.create()\r\n    await loading.present()\r\n\r\n    this.authService.signUp(this.credentials.getRawValue()).then(async (data) => {\r\n      await loading.dismiss()\r\n\r\n      if (data.error) {\r\n        this.showAlert('Registration failed', data.error.message)\r\n      } else {\r\n        this.showAlert('Signup success', 'Please confirm your email now!')\r\n        this.navCtrl.navigateBack('')\r\n      }\r\n    })\r\n  }\r\n\r\n  async showAlert(title: string, msg: string) {\r\n    const alert = await this.alertController.create({\r\n      header: title,\r\n      message: msg,\r\n      buttons: ['OK'],\r\n    })\r\n    await alert.present()\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Register</ion-title> \r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content scrollY=\"false\">\r\n  <ion-card>\r\n    <ion-card-content>\r\n      <form (ngSubmit)=\"createAccount()\" [formGroup]=\"credentials\">\r\n        <ion-item>\r\n          <ion-label position=\"stacked\">Your Email</ion-label>\r\n          <ion-input type=\"email\" inputmode=\"email\" placeholder=\"Email\" formControlName=\"email\"></ion-input>\r\n          <ion-note slot=\"error\" *ngIf=\"(email.dirty || email.touched) && email.errors\">Please insert a valid\r\n            email</ion-note>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label position=\"stacked\">Password</ion-label>\r\n          <ion-input type=\"password\" placeholder=\"Password\" formControlName=\"password\"></ion-input>\r\n          <ion-note slot=\"error\" *ngIf=\"(password.dirty || password.touched) && password.errors?.['required']\">Please\r\n            insert a password\r\n          </ion-note>\r\n\r\n          <ion-note slot=\"error\"\r\n            *ngIf=\"(password.dirty || password.touched) && password.errors?.['minlength']\">Minlength 6\r\n            characters\r\n          </ion-note>\r\n\r\n        </ion-item>\r\n        <ion-button type=\"submit\" expand=\"block\" strong=\"true\" [disabled]=\"!credentials.valid\">Create my\r\n          account</ion-button>\r\n      </form>\r\n    </ion-card-content>\r\n  </ion-card>\r\n</ion-content>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
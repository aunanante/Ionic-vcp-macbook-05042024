{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jclon/chatgptVcp/Ionic-vcp-macbook27mars22024/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport { UpdateDetailModalPage } from '../update-detail-modal/update-detail-modal.page';\nimport { DetailAddModalPage } from '../detail-add-modal/detail-add-modal.page'; // Import the ProductModalAddPage component\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"src/app/services/commerce.service\";\nimport * as i3 from \"src/app/services/category.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@ionic/angular\";\nimport * as i7 from \"src/app/services/product.service\";\nimport * as i8 from \"src/app/services/detail.service\";\nimport * as i9 from \"@angular/common\";\nfunction DetailsPage_ion_list_17_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 20);\n    i0.ɵɵlistener(\"click\", function DetailsPage_ion_list_17_ion_item_1_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const commerce_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.onCommerceClick(commerce_r9.id));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const commerce_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"selected-commerce\", commerce_r9.id === ctx_r8.selectedCommerceId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", commerce_r9.commercename, \" \");\n  }\n}\nfunction DetailsPage_ion_list_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 18);\n    i0.ɵɵtemplate(1, DetailsPage_ion_list_17_ion_item_1_Template, 2, 3, \"ion-item\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.commerces);\n  }\n}\nfunction DetailsPage_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"p\");\n    i0.ɵɵtext(2, \"No commerces found.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DetailsPage_ion_list_21_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 20);\n    i0.ɵɵlistener(\"click\", function DetailsPage_ion_list_21_ion_item_1_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const category_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.onCategoryClick(category_r13));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r13 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"selected-category\", category_r13.id === ctx_r12.selectedCategoryId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", category_r13.categoryname, \" \");\n  }\n}\nfunction DetailsPage_ion_list_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 22);\n    i0.ɵɵtemplate(1, DetailsPage_ion_list_21_ion_item_1_Template, 2, 3, \"ion-item\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.categories);\n  }\n}\nfunction DetailsPage_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"p\");\n    i0.ɵɵtext(2, \"No categories found.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DetailsPage_ion_row_27_ion_list_3_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 20);\n    i0.ɵɵlistener(\"click\", function DetailsPage_ion_row_27_ion_list_3_ion_item_1_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const product_r19 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r20.onProductClick(product_r19.id));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r19 = ctx.$implicit;\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"selected-product\", product_r19.id === ctx_r18.selectedProductId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r19.productname, \" \");\n  }\n}\nfunction DetailsPage_ion_row_27_ion_list_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 27);\n    i0.ɵɵtemplate(1, DetailsPage_ion_row_27_ion_list_3_ion_item_1_Template, 2, 3, \"ion-item\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.products);\n  }\n}\nfunction DetailsPage_ion_row_27_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"p\");\n    i0.ɵɵtext(2, \"No products found.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DetailsPage_ion_row_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-row\")(1, \"ion-col\", 10)(2, \"div\", 5);\n    i0.ɵɵtemplate(3, DetailsPage_ion_row_27_ion_list_3_Template, 2, 1, \"ion-list\", 25)(4, DetailsPage_ion_row_27_div_4_Template, 3, 0, \"div\", 26);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.products.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.products.length === 0);\n  }\n}\nfunction DetailsPage_ion_list_34_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 20);\n    i0.ɵɵlistener(\"click\", function DetailsPage_ion_list_34_ion_item_1_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const detail_r23 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.onDetailClick(detail_r23));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const detail_r23 = ctx.$implicit;\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"selected-detail\", detail_r23.id === ctx_r22.selectedDetailId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", detail_r23.detailname, \" \");\n  }\n}\nfunction DetailsPage_ion_list_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 30);\n    i0.ɵɵtemplate(1, DetailsPage_ion_list_34_ion_item_1_Template, 2, 3, \"ion-item\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.details);\n  }\n}\nfunction DetailsPage_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"p\");\n    i0.ɵɵtext(2, \"No details found.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DetailsPage_form_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\", 33)(1, \"ion-item\");\n    i0.ɵɵelement(2, \"ion-img\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-item\")(4, \"ion-label\");\n    i0.ɵɵtext(5, \"Detail Name : \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ion-input\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-item\")(8, \"ion-label\");\n    i0.ɵɵtext(9, \"Description : \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"ion-textarea\", 36);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    i0.ɵɵproperty(\"formGroup\", ctx_r7.detailForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", (tmp_1_0 = ctx_r7.detailForm.get(\"image_detail\")) == null ? null : tmp_1_0.value);\n  }\n}\nexport class DetailsPage {\n  constructor(userService, commerceService, categoryService, formBuilder, router, modalController, productService, detailService) {\n    this.userService = userService;\n    this.commerceService = commerceService;\n    this.categoryService = categoryService;\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.modalController = modalController;\n    this.productService = productService;\n    this.detailService = detailService;\n    this.categories = [];\n    this.commerces = [];\n    this.products = [];\n    this.details = [];\n    this.selectedCommerceId = null;\n    this.selectedCategoryId = null;\n    this.selectedProductId = null;\n    this.selectedDetailId = null;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        // Fetch business owner ID\n        const businessOwnerId = yield _this.userService.getBusinessOwnerId();\n        // Fetch commerces\n        if (businessOwnerId !== null) {\n          const monthlyFeePaid = yield _this.userService.getMonthlyFeePaidStatus(businessOwnerId);\n          if (!monthlyFeePaid) {\n            _this.lockApp();\n            return;\n          }\n          const commerces = yield _this.commerceService.getCommercesByBusinessOwnerWithMonthlyFeePaid(businessOwnerId);\n          commerces.sort((a, b) => a.id - b.id);\n          _this.commerces = commerces;\n          // Check if there are commerces in the list\n          if (_this.commerces.length > 0) {\n            // Select the first commerce by default\n            _this.selectedCommerceId = _this.commerces[0].id;\n            // Fetch categories associated with the selected commerce\n            if (_this.selectedCommerceId !== null) {\n              yield _this.fetchCategoriesByCommerceId(_this.selectedCommerceId);\n            }\n          } else {\n            _this.selectedCommerceId = -1;\n            _this.commerces = [];\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching commerces:', error);\n      }\n      // Fetch details for the selected product\n      if (_this.selectedProductId !== null) {\n        yield _this.fetchDetailsByProductId(_this.selectedProductId);\n      } else {\n        console.log('selectedProductId is null or undefined');\n      }\n      // Display the first detail of the current product\n      if (_this.details.length > 0) {\n        _this.selectedDetailId = _this.details[0].id;\n        _this.setDetailForm(_this.currentProduct, _this.details[0]);\n      } else {\n        console.log('No details found');\n      }\n    })();\n  }\n  fetchCategoriesByCommerceId(commerceId) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        // Fetch categories associated with the selected commerce\n        const categories = yield _this2.categoryService.getCategoriesByCommerceId(commerceId);\n        categories.sort((a, b) => a.id - b.id);\n        _this2.categories = categories;\n        if (_this2.categories.length > 0) {\n          // Select the first category by default\n          _this2.selectedCategoryId = _this2.categories[0].id;\n          if (_this2.selectedCategoryId !== null) {\n            // Fetch and display products associated with the selected category\n            yield _this2.fetchProductsByCategoryId(_this2.selectedCategoryId);\n          } else {\n            console.error('Selected category ID is null.');\n          }\n        } else {\n          _this2.selectedCategoryId = -1;\n          _this2.categories = [];\n          _this2.products = [];\n          _this2.details = [];\n        }\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n      }\n    })();\n  }\n  fetchProductsByCategoryId(categoryId) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        // Fetch products associated with the selected category\n        const products = yield _this3.productService.getProductsByCategoryId(categoryId);\n        products.sort((a, b) => a.id - b.id);\n        _this3.products = products;\n        if (_this3.products.length > 0) {\n          // Select the first product by default\n          _this3.selectedProductId = _this3.products[0].id; // Set selectedProductId to the ID of the first product\n          if (_this3.selectedProductId !== null) {\n            _this3.currentProduct = yield _this3.productService.getProductById(_this3.selectedProductId);\n            yield _this3.fetchDetailsByProductId(_this3.selectedProductId);\n            // Initialize the detailForm using the fields of the current product\n            _this3.initializeDetailForm(_this3.currentProduct);\n          } else {\n            console.error('Selected category ID is null.');\n          }\n        } else {\n          _this3.currentProduct = {\n            business_owner_id: '',\n            category_id: '',\n            commerce_id: '',\n            created_at: '',\n            description: '',\n            id: '',\n            image_product: '',\n            price: '',\n            productname: '',\n            reference: '',\n            ville_id: ''\n          }, _this3.selectedProductId = -1;\n          _this3.products = [];\n          _this3.details = [];\n          // console.error('No products found.');\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      }\n    })();\n  }\n  fetchDetailsByProductId(productId) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const details = yield _this4.detailService.getDetailsByProductId(productId);\n        details.sort((a, b) => a.id - b.id);\n        _this4.details = details;\n        if (_this4.details.length > 0) {\n          _this4.selectedDetailId = _this4.details[0].id;\n          _this4.setDetailForm(_this4.currentProduct, _this4.details[0]); // Set the detail form here\n        } else {\n          _this4.selectedDetailId = -1;\n          _this4.details = [];\n          _this4.setDetailForm(_this4.currentProduct, {});\n          console.error('No details found.');\n        }\n      } catch (error) {\n        console.error('Error fetching details:', error);\n      }\n    })();\n  }\n  initializeDetailForm(product) {\n    this.detailForm = this.formBuilder.group({\n      detailname: ['', Validators.required],\n      description: ['', Validators.required],\n      image_detail: ['', Validators.required],\n      business_owner_id: [product.business_owner_id || '', Validators.required],\n      ville_id: [product.ville_id || '', Validators.required],\n      commerce_id: [product.commerce_id || '', Validators.required],\n      category_id: [product.category_id || '', Validators.required],\n      product_id: [this.selectedProductId] // Initialize with selectedProductId\n    });\n  }\n\n  setDetailForm(product, detail) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      _this5.detailForm = _this5.formBuilder.group({\n        detailname: [detail.detailname || '', Validators.required],\n        description: [detail.description || '', Validators.required],\n        image_detail: [detail.image_detail || '', Validators.required],\n        business_owner_id: [product.business_owner_id || '', Validators.required],\n        ville_id: [product.ville_id || '', Validators.required],\n        commerce_id: [product.commerce_id || '', Validators.required],\n        category_id: [product.category_id || '', Validators.required],\n        product_id: [_this5.selectedProductId] // Initialize with selectedProductId\n      });\n    })();\n  }\n\n  onCommerceClick(commerceId) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      _this6.selectedCommerceId = commerceId;\n      _this6.selectedCategoryId = null; // Reset selected category\n      _this6.selectedProductId = null; // Reset selected product\n      _this6.selectedDetailId = null; // Reset selected detail\n      _this6.details = []; // Reset details\n      yield _this6.fetchCategoriesByCommerceId(commerceId);\n      // Fetch and display the details for the first product in the new list\n      if (_this6.products.length > 0) {\n        yield _this6.onProductClick(_this6.products[0].id);\n      }\n    })();\n  }\n  onCategoryClick(category) {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      _this7.selectedCategoryId = category.id;\n      yield _this7.fetchProductsByCategoryId(category.id);\n      _this7.selectedProductId = null; // Reset selected product\n      _this7.selectedDetailId = null; // Reset selected detail\n      _this7.details = []; // Reset details\n      // Fetch and display the details for the first product in the new list\n      if (_this7.products.length > 0) {\n        yield _this7.onProductClick(_this7.products[0].id);\n      }\n    })();\n  }\n  onProductClick(productId) {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      _this8.selectedProductId = productId;\n      _this8.currentProduct = yield _this8.productService.getProductById(productId);\n      // Fetch and display the details for the selected product\n      yield _this8.fetchDetailsByProductId(productId);\n    })();\n  }\n  onDetailClick(detail) {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      _this9.selectedDetailId = detail.id;\n      // Set the detail form based on the clicked detail\n      yield _this9.setDetailForm(_this9.currentProduct, detail);\n    })();\n  }\n  openDetailAddModalPage() {\n    var _this10 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (_this10.currentProduct) {\n          // Create the modal with the current product as props\n          const modal = yield _this10.modalController.create({\n            component: DetailAddModalPage,\n            componentProps: {\n              product: _this10.currentProduct // Pass the current product as props\n            }\n          });\n\n          modal.onDidDismiss().then(result => {\n            if (result.data.dismissed === 'confirm') {\n              _this10.refreshDetailData();\n            } else if (result.data.dismissed === 'cancel') {} else {\n              // Handle other dismissals\n              console.log('Modal dismissed with unexpected role:', result.data.dismissed);\n            }\n          });\n          // Display the modal\n          yield modal.present();\n        } else {\n          console.error('Current product is null.');\n        }\n      } catch (error) {\n        console.error('Error opening detail add modal:', error);\n      }\n    })();\n  }\n  openUpdateDetailModalPage() {\n    var _this11 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (_this11.selectedDetailId !== null) {\n          // Fetch the current detail using its ID\n          const detail = yield _this11.detailService.getDetailById(_this11.selectedDetailId);\n          // Create the modal with the current detail as props\n          const modal = yield _this11.modalController.create({\n            component: UpdateDetailModalPage,\n            componentProps: {\n              detail: detail // Pass the current detail as props\n            }\n          });\n\n          modal.onDidDismiss().then( /*#__PURE__*/function () {\n            var _ref = _asyncToGenerator(function* (result) {\n              if (result.data.dismissed === 'confirm') {\n                yield _this11.refreshDetailData();\n              } else if (result.data.dismissed === 'cancel') {\n                // Handle cancellation\n                console.log('Modal dismissed with cancel role');\n              } else {\n                // Handle other dismissals\n                console.log('Modal dismissed with unexpected role:', result.data.dismissed);\n              }\n            });\n            return function (_x) {\n              return _ref.apply(this, arguments);\n            };\n          }());\n          // Display the modal\n          yield modal.present();\n        } else {\n          console.error('Selected detail ID is null.');\n        }\n      } catch (error) {\n        console.error('Error opening update detail modal:', error);\n      }\n    })();\n  }\n  lockApp() {\n    this.router.navigate(['/villes-commerces']);\n  }\n  refreshDetailData() {\n    var _this12 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (_this12.selectedProductId !== null) {\n          _this12.details = yield _this12.detailService.getDetailsByProductId(_this12.selectedProductId);\n          _this12.details.sort((a, b) => a.id - b.id);\n          if (_this12.details.length > 0) {\n            const new_detail = _this12.details[_this12.details.length - 1];\n            const product = _this12.productService.getProductById(_this12.selectedProductId);\n            _this12.selectedDetailId = new_detail.id;\n            _this12.setDetailForm(product, new_detail);\n          }\n        }\n      } catch (error) {\n        console.error('Error refreshing details:', error);\n      }\n    })();\n  }\n  refreshDetailDataUp() {\n    var _this13 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (_this13.selectedProductId !== null) {\n          _this13.details = yield _this13.detailService.getDetailsByProductId(_this13.selectedProductId);\n          _this13.details.sort((a, b) => a.id - b.id);\n          if (_this13.selectedDetailId) {\n            const new_detail = yield _this13.detailService.getDetailById(_this13.selectedDetailId);\n            const product = _this13.productService.getProductById(_this13.selectedProductId);\n            _this13.setDetailForm(product, new_detail);\n          }\n        }\n      } catch (error) {\n        console.error('Error refreshing details:', error);\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function DetailsPage_Factory(t) {\n    return new (t || DetailsPage)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.CommerceService), i0.ɵɵdirectiveInject(i3.CategoryService), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.ModalController), i0.ɵɵdirectiveInject(i7.ProductService), i0.ɵɵdirectiveInject(i8.DetailService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetailsPage,\n    selectors: [[\"app-details\"]],\n    decls: 40,\n    vars: 8,\n    consts: [[\"slot\", \"end\"], [\"color\", \"primary\", 3, \"click\"], [\"padding\", \"\"], [1, \"grid-container\"], [\"size\", \"6\", 1, \"column\"], [\"scrolly\", \"true\", 2, \"max-height\", \"100px\"], [\"class\", \"list\", \"aria-label\", \"Commerces List\", 4, \"ngIf\"], [\"class\", \"no-commerces-message\", 4, \"ngIf\"], [\"class\", \"list\", \"aria-label\", \"Categories List\", 4, \"ngIf\"], [\"class\", \"no-categories-message\", 4, \"ngIf\"], [\"size\", \"12\", 1, \"column\"], [4, \"ngIf\"], [\"class\", \"list\", \"aria-label\", \"Details List\", 4, \"ngIf\"], [\"class\", \"no-details-message\", 4, \"ngIf\"], [3, \"formGroup\", 4, \"ngIf\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\"], [3, \"click\"], [\"name\", \"add\"], [\"aria-label\", \"Commerces List\", 1, \"list\"], [\"class\", \"item\", 3, \"selected-commerce\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"item\", 3, \"click\"], [1, \"no-commerces-message\"], [\"aria-label\", \"Categories List\", 1, \"list\"], [\"class\", \"item\", 3, \"selected-category\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"no-categories-message\"], [\"class\", \"list\", \"aria-label\", \"Products List\", 4, \"ngIf\"], [\"class\", \"no-products-message\", 4, \"ngIf\"], [\"aria-label\", \"Products List\", 1, \"list\"], [\"class\", \"item\", 3, \"selected-product\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"no-products-message\"], [\"aria-label\", \"Details List\", 1, \"list\"], [\"class\", \"item\", 3, \"selected-detail\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"no-details-message\"], [3, \"formGroup\"], [3, \"src\"], [\"formControlName\", \"detailname\", \"readonly\", \"\"], [\"formControlName\", \"description\", \"readonly\", \"\"]],\n    template: function DetailsPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-buttons\", 0)(5, \"ion-button\", 1);\n        i0.ɵɵlistener(\"click\", function DetailsPage_Template_ion_button_click_5_listener() {\n          return ctx.openUpdateDetailModalPage();\n        });\n        i0.ɵɵtext(6, \" Edit \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"ion-content\", 2)(8, \"ion-grid\", 3)(9, \"ion-row\")(10, \"ion-col\", 4);\n        i0.ɵɵtext(11, \" commerces \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"ion-col\", 4);\n        i0.ɵɵtext(13, \" categories \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"ion-row\")(15, \"ion-col\", 4)(16, \"div\", 5);\n        i0.ɵɵtemplate(17, DetailsPage_ion_list_17_Template, 2, 1, \"ion-list\", 6)(18, DetailsPage_div_18_Template, 3, 0, \"div\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"ion-col\", 4)(20, \"div\", 5);\n        i0.ɵɵtemplate(21, DetailsPage_ion_list_21_Template, 2, 1, \"ion-list\", 8)(22, DetailsPage_div_22_Template, 3, 0, \"div\", 9);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(23, \"ion-grid\", 3)(24, \"ion-row\")(25, \"ion-col\", 10);\n        i0.ɵɵtext(26, \" products \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(27, DetailsPage_ion_row_27_Template, 5, 2, \"ion-row\", 11);\n        i0.ɵɵelementStart(28, \"ion-row\")(29, \"ion-col\", 10);\n        i0.ɵɵtext(30, \" details \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"ion-row\")(32, \"ion-col\", 10)(33, \"div\", 5);\n        i0.ɵɵtemplate(34, DetailsPage_ion_list_34_Template, 2, 1, \"ion-list\", 12)(35, DetailsPage_div_35_Template, 3, 0, \"div\", 13);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(36, DetailsPage_form_36_Template, 11, 2, \"form\", 14);\n        i0.ɵɵelementStart(37, \"ion-fab\", 15)(38, \"ion-fab-button\", 16);\n        i0.ɵɵlistener(\"click\", function DetailsPage_Template_ion_fab_button_click_38_listener() {\n          return ctx.openDetailAddModalPage();\n        });\n        i0.ɵɵelement(39, \"ion-icon\", 17);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngIf\", ctx.commerces.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.commerces.length === 0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.categories.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.categories.length === 0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.products.length > 0);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.details.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.details.length === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedDetailId);\n      }\n    },\n    dependencies: [i9.NgForOf, i9.NgIf, i4.ɵNgNoValidate, i4.NgControlStatus, i4.NgControlStatusGroup, i6.IonButton, i6.IonButtons, i6.IonCol, i6.IonContent, i6.IonFab, i6.IonFabButton, i6.IonGrid, i6.IonHeader, i6.IonIcon, i6.IonImg, i6.IonInput, i6.IonItem, i6.IonLabel, i6.IonList, i6.IonRow, i6.IonTextarea, i6.IonTitle, i6.IonToolbar, i6.TextValueAccessor, i4.FormGroupDirective, i4.FormControlName],\n    styles: [\"div[scrolly=true][_ngcontent-%COMP%] {\\n  overflow-y: auto;\\n  max-height: 200px; \\n\\n}\\n\\n.grid-container[_ngcontent-%COMP%] {\\n  border: 1px solid #ccc; \\n\\n}\\n\\n.selected-commerce[_ngcontent-%COMP%] {\\n  --ion-item-background: #f0f8ff; \\n\\n}\\n\\nion-item.selected-category[_ngcontent-%COMP%] {\\n  --ion-item-background: #f3e6d5; \\n\\n}\\n\\n.selected-product[_ngcontent-%COMP%] {\\n  --ion-item-background: #eee4eb; \\n\\n}\\n\\n.selected-detail[_ngcontent-%COMP%] {\\n  --ion-item-background: #e0edf8; \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZGV0YWlscy9kZXRhaWxzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsaUJBQUEsRUFBQSxrREFBQTtBQUNKOztBQUdFO0VBQ0ksc0JBQUEsRUFBQSwyQkFBQTtBQUFOOztBQVFFO0VBQ0UsOEJBQUEsRUFBQSwwQkFBQTtBQUxKOztBQVFFO0VBQ0UsOEJBQUEsRUFBQSwyQkFBQTtBQUxKOztBQVFFO0VBQ0UsOEJBQUEsRUFBQSwwQkFBQTtBQUxKOztBQVFFO0VBQ0UsOEJBQUEsRUFBQSwwQkFBQTtBQUxKIiwic291cmNlc0NvbnRlbnQiOlsiZGl2W3Njcm9sbHk9XCJ0cnVlXCJdIHtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICBtYXgtaGVpZ2h0OiAyMDBweDsgLyogVGhpcyBzaG91bGQgbWF0Y2ggdGhlIG1heC1oZWlnaHQgaW4geW91ciBIVE1MICovXHJcbiAgfVxyXG4gIFxyXG4gICAgXHJcbiAgLmdyaWQtY29udGFpbmVyIHtcclxuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsgLyogQm9yZGVyIGFyb3VuZCB0aGUgZ3JpZCAqL1xyXG4gIH1cclxuICAgIFxyXG4gICAgXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgLnNlbGVjdGVkLWNvbW1lcmNlIHtcclxuICAgIC0taW9uLWl0ZW0tYmFja2dyb3VuZDogI2YwZjhmZjsgLyogTGlnaHQgYmx1ZS1ncmV5IGNvbG9yICovXHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1pdGVtLnNlbGVjdGVkLWNhdGVnb3J5IHtcclxuICAgIC0taW9uLWl0ZW0tYmFja2dyb3VuZDogI2YzZTZkNTsgLyogTGlnaHQgYnJvd24tZ3JleSBjb2xvciAqL1xyXG4gIH1cclxuICBcclxuICAuc2VsZWN0ZWQtcHJvZHVjdCB7XHJcbiAgICAtLWlvbi1pdGVtLWJhY2tncm91bmQ6ICNlZWU0ZWI7IC8qIExpZ2h0IGJsdWUtZ3JleSBjb2xvciAqL1xyXG4gIH1cclxuICBcclxuICAuc2VsZWN0ZWQtZGV0YWlsIHtcclxuICAgIC0taW9uLWl0ZW0tYmFja2dyb3VuZDogI2UwZWRmODsgLyogTGlnaHQgYmx1ZS1ncmV5IGNvbG9yICovXHJcbiAgfSAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","UpdateDetailModalPage","DetailAddModalPage","i0","ɵɵelementStart","ɵɵlistener","DetailsPage_ion_list_17_ion_item_1_Template_ion_item_click_0_listener","restoredCtx","ɵɵrestoreView","_r11","commerce_r9","$implicit","ctx_r10","ɵɵnextContext","ɵɵresetView","onCommerceClick","id","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","ctx_r8","selectedCommerceId","ɵɵadvance","ɵɵtextInterpolate1","commercename","ɵɵtemplate","DetailsPage_ion_list_17_ion_item_1_Template","ɵɵproperty","ctx_r0","commerces","DetailsPage_ion_list_21_ion_item_1_Template_ion_item_click_0_listener","_r15","category_r13","ctx_r14","onCategoryClick","ctx_r12","selectedCategoryId","categoryname","DetailsPage_ion_list_21_ion_item_1_Template","ctx_r2","categories","DetailsPage_ion_row_27_ion_list_3_ion_item_1_Template_ion_item_click_0_listener","_r21","product_r19","ctx_r20","onProductClick","ctx_r18","selectedProductId","productname","DetailsPage_ion_row_27_ion_list_3_ion_item_1_Template","ctx_r16","products","DetailsPage_ion_row_27_ion_list_3_Template","DetailsPage_ion_row_27_div_4_Template","ctx_r4","length","DetailsPage_ion_list_34_ion_item_1_Template_ion_item_click_0_listener","_r25","detail_r23","ctx_r24","onDetailClick","ctx_r22","selectedDetailId","detailname","DetailsPage_ion_list_34_ion_item_1_Template","ctx_r5","details","ɵɵelement","ctx_r7","detailForm","tmp_1_0","get","value","DetailsPage","constructor","userService","commerceService","categoryService","formBuilder","router","modalController","productService","detailService","ngOnInit","_this","_asyncToGenerator","businessOwnerId","getBusinessOwnerId","monthlyFeePaid","getMonthlyFeePaidStatus","lockApp","getCommercesByBusinessOwnerWithMonthlyFeePaid","sort","a","b","fetchCategoriesByCommerceId","error","console","fetchDetailsByProductId","log","setDetailForm","currentProduct","commerceId","_this2","getCategoriesByCommerceId","fetchProductsByCategoryId","categoryId","_this3","getProductsByCategoryId","getProductById","initializeDetailForm","business_owner_id","category_id","commerce_id","created_at","description","image_product","price","reference","ville_id","productId","_this4","getDetailsByProductId","product","group","required","image_detail","product_id","detail","_this5","_this6","category","_this7","_this8","_this9","openDetailAddModalPage","_this10","modal","create","component","componentProps","onDidDismiss","then","result","data","dismissed","refreshDetailData","present","openUpdateDetailModalPage","_this11","getDetailById","_ref","_x","apply","arguments","navigate","_this12","new_detail","refreshDetailDataUp","_this13","_","ɵɵdirectiveInject","i1","UserService","i2","CommerceService","i3","CategoryService","i4","FormBuilder","i5","Router","i6","ModalController","i7","ProductService","i8","DetailService","_2","selectors","decls","vars","consts","template","DetailsPage_Template","rf","ctx","DetailsPage_Template_ion_button_click_5_listener","DetailsPage_ion_list_17_Template","DetailsPage_div_18_Template","DetailsPage_ion_list_21_Template","DetailsPage_div_22_Template","DetailsPage_ion_row_27_Template","DetailsPage_ion_list_34_Template","DetailsPage_div_35_Template","DetailsPage_form_36_Template","DetailsPage_Template_ion_fab_button_click_38_listener"],"sources":["C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\details\\details.page.ts","C:\\Users\\jclon\\chatgptVcp\\Ionic-vcp-macbook27mars22024\\src\\app\\pages\\details\\details.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { CommerceService } from 'src/app/services/commerce.service';\r\nimport { CategoryService } from 'src/app/services/category.service'; // Import CategoryService\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { CommerceCategoriesPage } from '../commerce-categories/commerce-categories.page';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { UpdateDetailModalPage } from '../update-detail-modal/update-detail-modal.page';\r\nimport { Router } from '@angular/router';\r\nimport { DetailAddModalPage } from '../detail-add-modal/detail-add-modal.page'; // Import the ProductModalAddPage component\r\nimport { ProductService } from 'src/app/services/product.service'; // Import the ProductService\r\nimport { DetailService } from 'src/app/services/detail.service';\r\n\r\n@Component({\r\n  selector: 'app-details',\r\n  templateUrl: './details.page.html',\r\n  styleUrls: ['./details.page.scss'],\r\n})\r\nexport class DetailsPage implements OnInit {\r\n  categories: any[] = [];\r\n  commerces: any[] = [];\r\n  products: any[] = [];\r\n  details: any[] = [];\r\n  selectedCommerceId: number | null = null;\r\n  detailForm!: FormGroup;\r\n\r\n  selectedCategoryId: number | null = null;\r\n  selectedProductId: number | null = null;\r\n  selectedDetailId: number | null = null;\r\n  currentProduct: any;\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private commerceService: CommerceService,\r\n    private categoryService: CategoryService,\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private modalController: ModalController,\r\n    private productService: ProductService,\r\n    private detailService: DetailService\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    try {\r\n      // Fetch business owner ID\r\n      const businessOwnerId = await this.userService.getBusinessOwnerId();\r\n\r\n      // Fetch commerces\r\n      if (businessOwnerId !== null) {\r\n        const monthlyFeePaid = await this.userService.getMonthlyFeePaidStatus(\r\n          businessOwnerId\r\n        );\r\n        if (!monthlyFeePaid) {\r\n          this.lockApp();\r\n          return;\r\n        }\r\n        const commerces =\r\n          await this.commerceService.getCommercesByBusinessOwnerWithMonthlyFeePaid(\r\n            businessOwnerId\r\n          );\r\n\r\n        commerces.sort((a, b) => a.id - b.id);\r\n        this.commerces = commerces;\r\n\r\n        // Check if there are commerces in the list\r\n        if (this.commerces.length > 0) {\r\n          // Select the first commerce by default\r\n          this.selectedCommerceId = this.commerces[0].id;\r\n          // Fetch categories associated with the selected commerce\r\n          if (this.selectedCommerceId !== null) {\r\n            await this.fetchCategoriesByCommerceId(this.selectedCommerceId);\r\n          }\r\n        } else {\r\n          this.selectedCommerceId = -1;\r\n          this.commerces = [];\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching commerces:', error);\r\n    }\r\n\r\n    // Fetch details for the selected product\r\n    if (this.selectedProductId !== null) {\r\n      await this.fetchDetailsByProductId(this.selectedProductId);\r\n    } else {\r\n      console.log('selectedProductId is null or undefined');\r\n    }\r\n\r\n    // Display the first detail of the current product\r\n    if (this.details.length > 0) {\r\n      this.selectedDetailId = this.details[0].id;\r\n      this.setDetailForm(this.currentProduct, this.details[0]);\r\n    } else {\r\n      console.log('No details found');\r\n    }\r\n  }\r\n\r\n  async fetchCategoriesByCommerceId(commerceId: number) {\r\n    try {\r\n      // Fetch categories associated with the selected commerce\r\n      const categories = await this.categoryService.getCategoriesByCommerceId(\r\n        commerceId\r\n      );\r\n\r\n      categories.sort((a, b) => a.id - b.id);\r\n      this.categories = categories;\r\n\r\n      if (this.categories.length > 0) {\r\n        // Select the first category by default\r\n        this.selectedCategoryId = this.categories[0].id;\r\n\r\n        if (this.selectedCategoryId !== null) {\r\n          // Fetch and display products associated with the selected category\r\n          await this.fetchProductsByCategoryId(this.selectedCategoryId);\r\n        } else {\r\n          console.error('Selected category ID is null.');\r\n        }\r\n      } else {\r\n        this.selectedCategoryId = -1;\r\n        this.categories = [];\r\n        this.products = [];\r\n        this.details = [];\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n    }\r\n  }\r\n\r\n  async fetchProductsByCategoryId(categoryId: number) {\r\n    try {\r\n      // Fetch products associated with the selected category\r\n      const products = await this.productService.getProductsByCategoryId(\r\n        categoryId\r\n      );\r\n\r\n      products.sort((a, b) => a.id - b.id);\r\n      this.products = products;\r\n\r\n      if (this.products.length > 0) {\r\n        // Select the first product by default\r\n        this.selectedProductId = this.products[0].id; // Set selectedProductId to the ID of the first product\r\n\r\n        if (this.selectedProductId !== null) {\r\n          this.currentProduct = await this.productService.getProductById(\r\n            this.selectedProductId\r\n          );\r\n\r\n          await this.fetchDetailsByProductId(this.selectedProductId);\r\n          // Initialize the detailForm using the fields of the current product\r\n          this.initializeDetailForm(this.currentProduct);\r\n        } else {\r\n          console.error('Selected category ID is null.');\r\n        }\r\n      } else {\r\n        (this.currentProduct = {\r\n          business_owner_id: '',\r\n          category_id: '',\r\n          commerce_id: '',\r\n          created_at: '',\r\n          description: '',\r\n          id: '',\r\n          image_product: '',\r\n          price: '',\r\n          productname: '',\r\n          reference: '',\r\n          ville_id: '',\r\n        }),\r\n          (this.selectedProductId = -1);\r\n        this.products = [];\r\n        this.details = [];\r\n        // console.error('No products found.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n    }\r\n  }\r\n\r\n  async fetchDetailsByProductId(productId: number) {\r\n    try {\r\n      const details = await this.detailService.getDetailsByProductId(productId);\r\n\r\n      details.sort((a, b) => a.id - b.id);\r\n      this.details = details;\r\n\r\n      if (this.details.length > 0) {\r\n        this.selectedDetailId = this.details[0].id;\r\n        this.setDetailForm(this.currentProduct, this.details[0]); // Set the detail form here\r\n      } else {\r\n        this.selectedDetailId = -1;\r\n        this.details = [];\r\n        this.setDetailForm(this.currentProduct, {});\r\n        console.error('No details found.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching details:', error);\r\n    }\r\n  }\r\n\r\n  initializeDetailForm(product: any) {\r\n    this.detailForm = this.formBuilder.group({\r\n      detailname: ['', Validators.required],\r\n      description: ['', Validators.required],\r\n      image_detail: ['', Validators.required],\r\n      business_owner_id: [product.business_owner_id || '', Validators.required], // Required validator\r\n      ville_id: [product.ville_id || '', Validators.required], // Required validator\r\n      commerce_id: [product.commerce_id || '', Validators.required], // Required validator\r\n      category_id: [product.category_id || '', Validators.required], // Required validator\r\n      product_id: [this.selectedProductId], // Initialize with selectedProductId\r\n    });\r\n  }\r\n\r\n  async setDetailForm(product: any, detail: any) {\r\n    this.detailForm = this.formBuilder.group({\r\n      detailname: [detail.detailname || '', Validators.required],\r\n      description: [detail.description || '', Validators.required],\r\n      image_detail: [detail.image_detail || '', Validators.required],\r\n      business_owner_id: [product.business_owner_id || '', Validators.required], // Required validator\r\n      ville_id: [product.ville_id || '', Validators.required], // Required validator\r\n      commerce_id: [product.commerce_id || '', Validators.required], // Required validator\r\n      category_id: [product.category_id || '', Validators.required], // Required validator\r\n      product_id: [this.selectedProductId], // Initialize with selectedProductId\r\n    });\r\n  }\r\n\r\n  async onCommerceClick(commerceId: number) {\r\n    this.selectedCommerceId = commerceId;\r\n    this.selectedCategoryId = null; // Reset selected category\r\n    this.selectedProductId = null; // Reset selected product\r\n    this.selectedDetailId = null; // Reset selected detail\r\n    this.details = []; // Reset details\r\n    await this.fetchCategoriesByCommerceId(commerceId);\r\n\r\n    // Fetch and display the details for the first product in the new list\r\n    if (this.products.length > 0) {\r\n      await this.onProductClick(this.products[0].id);\r\n    }\r\n  }\r\n\r\n  async onCategoryClick(category: any) {\r\n    this.selectedCategoryId = category.id;\r\n    await this.fetchProductsByCategoryId(category.id);\r\n    this.selectedProductId = null; // Reset selected product\r\n    this.selectedDetailId = null; // Reset selected detail\r\n    this.details = []; // Reset details\r\n    // Fetch and display the details for the first product in the new list\r\n    if (this.products.length > 0) {\r\n      await this.onProductClick(this.products[0].id);\r\n    }\r\n  }\r\n\r\n  async onProductClick(productId: number) {\r\n    this.selectedProductId = productId;\r\n    this.currentProduct = await this.productService.getProductById(productId);\r\n    // Fetch and display the details for the selected product\r\n    await this.fetchDetailsByProductId(productId);\r\n  }\r\n\r\n  async onDetailClick(detail: any) {\r\n    this.selectedDetailId = detail.id;\r\n    // Set the detail form based on the clicked detail\r\n    await this.setDetailForm(this.currentProduct, detail);\r\n  }\r\n\r\n  async openDetailAddModalPage() {\r\n    try {\r\n      if (this.currentProduct) {\r\n        // Create the modal with the current product as props\r\n        const modal = await this.modalController.create({\r\n          component: DetailAddModalPage,\r\n          componentProps: {\r\n            product: this.currentProduct, // Pass the current product as props\r\n          },\r\n        });\r\n\r\n        modal.onDidDismiss().then((result) => {\r\n          if (result.data.dismissed === 'confirm') {\r\n            this.refreshDetailData();\r\n          } else if (result.data.dismissed === 'cancel') {\r\n          } else {\r\n            // Handle other dismissals\r\n            console.log(\r\n              'Modal dismissed with unexpected role:',\r\n              result.data.dismissed\r\n            );\r\n          }\r\n        });\r\n\r\n        // Display the modal\r\n        await modal.present();\r\n      } else {\r\n        console.error('Current product is null.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error opening detail add modal:', error);\r\n    }\r\n  }\r\n\r\n  async openUpdateDetailModalPage() {\r\n    try {\r\n      if (this.selectedDetailId !== null) {\r\n        // Fetch the current detail using its ID\r\n        const detail = await this.detailService.getDetailById(\r\n          this.selectedDetailId\r\n        );\r\n\r\n        // Create the modal with the current detail as props\r\n        const modal = await this.modalController.create({\r\n          component: UpdateDetailModalPage,\r\n          componentProps: {\r\n            detail: detail, // Pass the current detail as props\r\n          },\r\n        });\r\n\r\n        modal.onDidDismiss().then(async (result) => {\r\n          if (result.data.dismissed === 'confirm') {\r\n            await this.refreshDetailData();\r\n          } else if (result.data.dismissed === 'cancel') {\r\n            // Handle cancellation\r\n            console.log('Modal dismissed with cancel role');\r\n          } else {\r\n            // Handle other dismissals\r\n            console.log(\r\n              'Modal dismissed with unexpected role:',\r\n              result.data.dismissed\r\n            );\r\n          }\r\n        });\r\n\r\n        // Display the modal\r\n        await modal.present();\r\n      } else {\r\n        console.error('Selected detail ID is null.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error opening update detail modal:', error);\r\n    }\r\n  }\r\n\r\n  lockApp() {\r\n    this.router.navigate(['/villes-commerces']);\r\n  }\r\n\r\n  async refreshDetailData() {\r\n    try {\r\n      if (this.selectedProductId !== null) {\r\n        this.details = await this.detailService.getDetailsByProductId(\r\n          this.selectedProductId\r\n        );\r\n\r\n        this.details.sort((a, b) => a.id - b.id);\r\n\r\n        if (this.details.length > 0) {\r\n          const new_detail = this.details[this.details.length - 1];\r\n          const product = this.productService.getProductById(\r\n            this.selectedProductId\r\n          );\r\n          this.selectedDetailId = new_detail.id;\r\n          this.setDetailForm(product, new_detail);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error refreshing details:', error);\r\n    }\r\n  }\r\n\r\n  async refreshDetailDataUp() {\r\n    try {\r\n      if (this.selectedProductId !== null) {\r\n        this.details = await this.detailService.getDetailsByProductId(\r\n          this.selectedProductId\r\n        );\r\n\r\n        this.details.sort((a, b) => a.id - b.id);\r\n\r\n        if (this.selectedDetailId) {\r\n          const new_detail = await this.detailService.getDetailById(\r\n            this.selectedDetailId\r\n          );\r\n\r\n          const product = this.productService.getProductById(\r\n            this.selectedProductId\r\n          );\r\n\r\n          this.setDetailForm(product, new_detail);\r\n        }\r\n        \r\n      }\r\n    } catch (error) {\r\n      console.error('Error refreshing details:', error);\r\n    }\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>Details</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"openUpdateDetailModalPage()\" color=\"primary\">\r\n        Edit\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n \r\n<ion-content padding>\r\n  <!-- Commerces List -->\r\n  <ion-grid class=\"grid-container\">\r\n    <ion-row>\r\n      <ion-col size=\"6\" class=\"column\">\r\n        commerces\r\n      </ion-col>\r\n      <ion-col size=\"6\" class=\"column\">\r\n        categories\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col size=\"6\" class=\"column\">\r\n        <div scrolly=\"true\" style=\"max-height: 100px\">\r\n          <ion-list *ngIf=\"commerces.length > 0\" class=\"list\" aria-label=\"Commerces List\">\r\n            <ion-item *ngFor=\"let commerce of commerces\" class=\"item\" [class.selected-commerce]=\"commerce.id === selectedCommerceId\" (click)=\"onCommerceClick(commerce.id)\">\r\n              {{ commerce.commercename }}\r\n            </ion-item>\r\n          </ion-list>\r\n          <!-- Display message if no commerces found -->\r\n          <div *ngIf=\"commerces.length === 0\" class=\"no-commerces-message\">\r\n            <p>No commerces found.</p>\r\n          </div>\r\n        </div>\r\n      </ion-col>\r\n\r\n      <!-- Categories List -->\r\n      <ion-col size=\"6\" class=\"column\">\r\n        <div scrolly=\"true\" style=\"max-height: 100px\">\r\n          <ion-list *ngIf=\"categories.length > 0\" class=\"list\" aria-label=\"Categories List\">\r\n            <ion-item *ngFor=\"let category of categories\" class=\"item\" [class.selected-category]=\"category.id === selectedCategoryId\" (click)=\"onCategoryClick(category)\">\r\n              {{ category.categoryname }}\r\n            </ion-item>\r\n          </ion-list>\r\n          <!-- Display message if no categories found -->\r\n          <div *ngIf=\"categories.length === 0\" class=\"no-categories-message\">\r\n            <p>No categories found.</p>\r\n          </div>\r\n        </div>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n\r\n  <!-- Products and Details Lists -->\r\n  <ion-grid class=\"grid-container\">\r\n    <ion-row>\r\n      <ion-col size=\"12\" class=\"column\">\r\n        products\r\n      </ion-col>\r\n      \r\n    </ion-row> \r\n    <ion-row *ngIf=\"products.length > 0\">\r\n      <!-- Products List -->\r\n      <ion-col size=\"12\" class=\"column\">\r\n        <div scrolly=\"true\" style=\"max-height: 100px\">\r\n          <ion-list *ngIf=\"products.length > 0\" class=\"list\" aria-label=\"Products List\">\r\n            <ion-item *ngFor=\"let product of products\" class=\"item\" [class.selected-product]=\"product.id === selectedProductId\" (click)=\"onProductClick(product.id)\">\r\n              {{ product.productname }}\r\n            </ion-item>\r\n          </ion-list>\r\n          <!-- Display message if no products found -->\r\n          <div *ngIf=\"products.length === 0\" class=\"no-products-message\">\r\n            <p>No products found.</p>\r\n          </div>\r\n        </div>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col size=\"12\" class=\"column\">\r\n        details\r\n      </ion-col>\r\n      \r\n    </ion-row>\r\n    <ion-row>\r\n      <!-- Details List -->\r\n      <ion-col size=\"12\" class=\"column\">\r\n        <div scrolly=\"true\" style=\"max-height: 100px\">\r\n          <ion-list *ngIf=\"details.length > 0\" class=\"list\" aria-label=\"Details List\">\r\n            <ion-item *ngFor=\"let detail of details\" class=\"item\" [class.selected-detail]=\"detail.id === selectedDetailId\" (click)=\"onDetailClick(detail)\">\r\n              {{ detail.detailname }}\r\n            </ion-item>\r\n          </ion-list>\r\n          <!-- Display message if no details found -->\r\n          <div *ngIf=\"details.length === 0\" class=\"no-details-message\">\r\n            <p>No details found.</p>\r\n          </div>\r\n        </div>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n\r\n  <!-- Form for Selected Detail -->\r\n  <form [formGroup]=\"detailForm\" *ngIf=\"selectedDetailId\">\r\n    <ion-item>\r\n      <!-- Use ion-img to display the image -->\r\n      <ion-img [src]=\"detailForm.get('image_detail')?.value\"></ion-img>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-label>Detail Name : </ion-label>\r\n      <ion-input formControlName=\"detailname\" readonly></ion-input>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-label>Description : </ion-label>\r\n      <ion-textarea formControlName=\"description\" readonly></ion-textarea>\r\n    </ion-item>\r\n  </form>\r\n\r\n  <!-- Fab button -->\r\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\r\n    <ion-fab-button (click)=\"openDetailAddModalPage()\">\r\n      <ion-icon name=\"add\"></ion-icon>\r\n    </ion-fab-button>\r\n  </ion-fab>\r\n</ion-content>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}